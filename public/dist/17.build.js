webpackJsonp([17],{104:function(t,e,i){i(614);var a=i(1)(i(246),i(546),null,null);t.exports=a.exports},146:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={data:function(){return{}}}},147:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,"",""])},148:function(t,e,i){i(150);var a=i(1)(i(146),i(149),null,null);t.exports=a.exports},149:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"weui-mask_transparent"}),t._v(" "),i("div",{staticClass:"weui-toast"},[i("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),i("p",{staticClass:"weui-toast__content"},[t._v("数据加载中")])])])}]}},150:function(t,e,i){var a=i(147);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(2)("5de0c1c0",a,!0)},179:function(t,e,i){t.exports=i.p+"back.png"},246:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(148),n=i.n(a),o=i(491),s=i.n(o);e.default={data:function(){return{showLoad:!1,id:this.$route.query.id,calendar:!1,detail:{},finishDay:0}},mounted:function(){this.getDetail()},methods:{ievent:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];this.finishDay=e[0],console.log("allData:",e)},getDetail:function(){var t=this;t.showLoad=!0,t.$http.get(web.API_PATH+"habit/get/detail/"+this.id).then(function(e){t.showLoad=!1,1===e.data.status&&(t.iconON=e.data.data.iconFinish,t.icon=e.data.data.iconNotFinish,t.calendar=!0,t.detail=e.data.data)},function(e){t.showLoad=!1})}},components:{"v-showLoad":n.a,"v-calendarTemplate":s.a}}},249:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(66);e.default={data:function(){return{hasEmptyGrid:!1,cur_year:"",cur_month:"",weeks_ch:["日","一","二","三","四","五","六"],empytGrids:[],days:[],commonClass:"dateView",_month:"",today:"",index:"",isShow:!1,isHidden:!0,swiper_box:!0,dayMoods:[],dayMoods2:[],dayMoods3:[],mySwiper:null,maxMonthNum:4,nowMonth:null,nowYear:null,empLength:null,dayLenght:null}},props:{habitId:0,icon:String,iconON:String},mounted:function(){console.log(this.habitId),this.setNowDate();var t=this;t.mySwiper=new Swiper(".swiper-container",{}),a.a.$on("oldMonthClick",function(){t.oldMonth()})},created:function(){$(".calendar_box").click()},methods:{setNowDate:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1;this.nowYear=e,this.nowMonth=i;var a=(t.getDay(),t.getDate());this.calculateEmptyGrids(e,i),this.calculateDays(e,i);var n=new Date,o=n.getMonth()+1;this.cur_year=e,this.cur_month=i,this._month=o,this.today=a},setContentHeight:function(t){var e=Math.ceil(t/7),i=$(".canlendarTopView").outerHeight(!0)+$(".weekBgView").outerHeight(!0),a=$(".dateView:eq(0)").height();$(".content-slide").height(a*e+i+10)},showSwiper:function(t){for(var e=this,i=0,a=0;a<=t;a++)i+=e.days[a].moods.length;if(e.dayMoods3=[])for(var a=0;a<e.days.length;a++)e.dayMoods3=e.dayMoods3.concat(e.days[a].moods)},getThisMonthDays:function(t,e){return new Date(t,e,0).getDate()},getFirstDayOfWeek:function(t,e){return new Date(Date.UTC(t,e-1,1)).getDay()},calculateEmptyGrids:function(t,e){var i=this,a=this.getFirstDayOfWeek(t,e),n=[];if(a>0){for(var o=0;o<a;o++)n.push({index:o,date:"",smailUrl:""});i.hasEmptyGrid=!0,i.empytGrids=n}else i.hasEmptyGrid=!1,i.empytGrids=[];i.empLength=i.empytGrids.length,console.log(i.empLength)},calculateDays:function(t,e){var i=this,a=this,n=a.icon,o=[],s=this.getThisMonthDays(t,e),r=e;e<10&&(r="0"+r);for(var l=1;l<=s;l++)o.push({index:l-1,date:"",smailUrl:n,moods:[]});this.days=o,o=[],a.$http.get(web.API_PATH+"habit/query/calendar/list/_userId_/"+a.habitId+"?date="+t+"-"+r+"-01").then(function(e){if(1===e.data.status){if(s>0){for(var l=0,d=1;d<=s;d++){var c=d;d<10&&(c="0"+d);for(var h=t+"-"+r+"-"+c,f=a.icon,p=0;p<e.data.data.length;p++)h===e.data.data[p].dt&&(f=a.iconON,l++);o.push({index:d-1,date:h,smailUrl:f})}a.$emit("ievent",l)}i.days=o}else for(var u=1;u<=s;u++)o.push({index:u-1,date:"",smailUrl:n})},function(t){for(var e=1;e<=s;e++)o.push({index:e-1,date:"",smailUrl:n})}),a.dayLenght=this.days.length,console.log(a.dayLenght)},oldMonth:function(){if(""==this.$route.params.Id||void 0==this.$route.params.Id||"_userId_"==this.$route.params.Id){var t=this.cur_year,e=this.cur_month,i=this.nowYear,a=this.nowMonth;if(a-=this.maxMonthNum,a<=0&&(i-=1,a=12+a),i!==t||a!==e){var n=e-1,o=t;n<1&&(o=t-1,n=12),this.calculateDays(o,n),this.calculateEmptyGrids(o,n),this.cur_year=o,this.cur_month=n,this.setContentHeight(this.dayLenght+this.empLength)}}},nextMonth:function(){var t=this.cur_year,e=this.cur_month;if(this.nowYear!==t||this.nowMonth!==e){var i=e+1,a=t;i>12&&(a=t+1,i=1),this.calculateDays(a,i),this.calculateEmptyGrids(a,i),this.cur_year=a,this.cur_month=i,this.setContentHeight(this.dayLenght+this.empLength)}},moveStop:function(){$("body").css("overflow","hidden").on("touchmove",function(t){t.preventDefault()})},moveMove:function(){$("body").off().css("overflow","auto")},formatContent:function(t){return xqzs.face.parse(t)}}}},343:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,".habit_detail_box{background:#fff}.habit_detail_box .head{padding:.88235rem;font-size:1rem;background:#fff}.habit_detail_box .head .t{font-size:.823529411764706rem;color:#333;border-left:2px solid #ff9a00;line-height:1;padding-left:.5rem}.habit_detail_box .head .img{float:left;width:1.5rem;height:1.5rem;margin-right:.8rem}.habit_detail_box .head .img img{width:100%;height:100%}.habit_detail_box .head .statistics{display:-webkit-box;display:flex;margin-top:.8rem}.habit_detail_box .head .statistics .item{-webkit-box-flex:1;flex:1;text-align:center}.habit_detail_box .head .mainbox{line-height:1}.habit_detail_box .head .count span{font-size:1.6rem;color:#ff9a00;line-height:1}.habit_detail_box .head .mainbox{width:70%;margin:0 auto;font-size:.823529411764706rem;color:#999}.habit_detail_box .head .mainbox .line{height:1px;background:#e7e4e4;width:100%;overflow:hidden;margin:.6rem 0}.habit_detail_box .h{height:.7rem;background:#f8f8f8}.habit_detail_box .title{margin:0 .88235rem;text-align:center;padding:.88235rem;font-size:1rem;color:#333;border-bottom:1px solid #f1f1f1}.habit_detail_box .content{padding:.88235rem;font-size:.88235rem;color:#666}",""])},356:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,'.calendar_habit_box{height:auto}.show_box_cal{visibility:inherit;position:absolute;top:0;height:100%;width:100%}.hidden_box{visibility:hidden}.calendar_box{height:100%;background:#fff}.banner{width:100%}.banner img{display:block;width:100%}.rl_header{height:60px;position:relative}.old{left:15px}.next,.old{height:20px;width:20px;position:absolute;top:8px;display:block}.next{right:15px;transform:rotate(180deg);-webkit-transform:rotate(180deg);margin-top:0!important}.week_day text{flex:1;text-align:center;color:#828080;font-size:12px}.canlendarBgView{flex-grow:1;display:flex;flex-direction:column;align-items:center;background:#fff;position:relative}.canlendarBgView:after{content:"";height:1px;background:#f1f1f1;position:absolute;bottom:0;display:block;width:100%}.canlendarView{display:flex;flex-direction:column}.canlendarTopView{height:36px;font-size:17px;display:flex;display:-webkit-box;display:-webkit-flex;flex-direction:row;align-items:center;justify-content:center;margin-bottom:11px;position:relative}.canlendarTopView .centerView{margin-top:3px}.leftBgView{text-align:right;height:40px}.centerView,.leftBgView{-webkit-box-flex:1;flex:1}.centerView{height:36px;text-align:center;align-items:center;justify-content:center;color:#666;line-height:36px}.rightBgView{height:40px;-webkit-box-flex:1;flex:1}.weekBgView{height:25px;line-height:25px;display:flex;flex-direction:row;justify-content:center;align-items:center;border-bottom:1px solid hsla(0,0%,93%,.7);padding-bottom:7px;color:#828080}.weekView{flex-grow:1;text-align:center;font-size:12px;float:left;width:14.28571%}.dateBgView{height:auto;width:100%;display:flex;flex-direction:row;flex-wrap:wrap}.dateEmptyView{width:14.28571%;color:#fff;display:flex;align-items:center;justify-content:center;position:relative;float:left;height:66px}.dateEmptyView_right{width:1px;height:100%;right:0;top:0}.dateEmptyView_bottom,.dateEmptyView_right{background:#eee;position:absolute;opacity:.7}.dateEmptyView_bottom{height:1px;width:100%;bottom:0;left:0}.dateView{width:14.28571%;display:flex;background:#fff;flex-direction:column;justify-content:center;position:relative;text-align:center;float:left}.calendar_habit_box .dateView img{height:26px;width:26px;display:block;margin:0 auto;margin-bottom:4px}.calendar_habit_box .datesView{height:24px;color:#828080;font-size:13px;display:flex;align-items:flex-end;justify-content:center;margin-bottom:2px;text-align:center}.dateSelectView{background:#fef8e5}.clickBox_time{text-align:center;padding:0 20px;bottom:6px;font-size:14px;color:#999;height:72px;overflow:hidden}.clickBox_bottom{margin-top:6px}.bg_box{position:fixed;top:0;left:0;background:rgba(0,0,0,.6);height:100%;width:100%;z-index:1}.swiper_box{position:absolute;top:25%;left:50%;margin-left:-100px}#bg_back{position:fixed;top:0;left:0;height:100%;width:100%;z-index:1000}.clickBox{width:100%;text-align:center;z-index:100;position:absolute;top:2.52rem;height:auto;transition:top 1s}.clickBox_time{position:absolute;bottom:5%;width:90%;height:30%;left:50%;margin-left:-50%}.clickBox_time span{font-size:12px;color:#999;margin:0 5px;line-height:22px}.swiper-slide{height:auto}',""])},491:function(t,e,i){i(627);var a=i(1)(i(249),i(559),null,null);t.exports=a.exports},546:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"habit_detail_box"},[i("div",{directives:[{name:"title",rawName:"v-title"}]},[t._v(t._s(t.detail.title))]),t._v(" "),t.showLoad?i("v-showLoad"):t._e(),t._v(" "),i("div",{staticClass:"head"},[i("div",{staticClass:"t"},[t._v("数据统计")]),t._v(" "),i("div",{staticClass:"statistics"},[i("div",{staticClass:"item"},[i("div",{staticClass:"mainbox"},[i("div",{staticClass:"count"},[i("span",[t._v(t._s(t.detail.realUserCount))]),t._v(" 人\n                   ")]),t._v(" "),i("div",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"tip"},[t._v("参与人数")])])]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"mainbox"},[i("div",{staticClass:"count"},[i("span",[t._v(t._s(t.finishDay))]),t._v(" 天\n                ")]),t._v(" "),i("div",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"tip"},[t._v("本月完成")])])])])]),t._v(" "),i("div",{staticClass:"h"}),t._v(" "),t.calendar?i("v-calendarTemplate",{attrs:{habitId:t.id,iconON:t.iconON,icon:t.icon},on:{ievent:t.ievent}}):t._e(),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(t.detail.descTitle))]),t._v(" "),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.detail.descContent)}})],1)},staticRenderFns:[]}},559:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar_habit_box "},[a("div",{staticClass:"canlendarBgView"},[a("div",{staticClass:"canlendarView"},[a("div",{staticClass:"canlendarTopView"},[a("div",{staticClass:"leftBgView",on:{click:t.oldMonth}},[a("img",{staticClass:"old",attrs:{src:i(179)}})]),t._v(" "),a("div",{staticClass:"centerView"},[t._v(t._s(t.cur_year||"--")+"年"+t._s(t.cur_month||"--")+"月")]),t._v(" "),a("div",{staticClass:"rightBgView",on:{click:t.nextMonth}},[a("img",{staticClass:"next",attrs:{src:i(179)}})])]),t._v(" "),a("div",{staticClass:"weekBgView"},t._l(t.weeks_ch,function(e){return a("div",{staticClass:"weekView"},[t._v(t._s(e))])})),t._v(" "),a("div",{staticClass:"dateBgView"},[t._l(t.empytGrids,function(e){return a("div",{staticClass:"dateEmptyView"},[t._v(t._s(e.index)+"\n                        "),a("div",{staticClass:"dateEmptyView_right"}),t._v(" "),a("div",{staticClass:"dateEmptyView_bottom"})])}),t._v(" "),t._l(t.days,function(e,i){return a("div",{key:i,class:[t.commonClass,t._month==t.cur_month&&i==t.today-1?"dateSelectView":""],on:{click:function(e){t.showSwiper(i)}}},[a("a",{attrs:{href:"javascript:;"}},[a("div",{staticClass:"datesView"},[t._v(t._s(e.index+1)+"\n                                "),a("div",{staticClass:"dateEmptyView_right"}),t._v(" "),a("div",{staticClass:"dateEmptyView_bottom"})]),t._v(" "),a("img",{attrs:{src:e.smailUrl}})])])})],2)])]),t._v(" "),a("div",{staticStyle:{height:"10px",background:"#fff"}})])},staticRenderFns:[]}},614:function(t,e,i){var a=i(343);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(2)("3c61aeac",a,!0)},627:function(t,e,i){var a=i(356);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(2)("43f89776",a,!0)}});
//# sourceMappingURL=17.build.js.map?5c7fdce1