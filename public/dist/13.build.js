webpackJsonp([13],{140:function(t,o,i){o=t.exports=i(1)(),o.push([t.i,".edit_box{height:11.470588235294118rem;background:#fff;width:100%;position:relative;padding:1.6rem 0 1rem;margin-bottom:1px}#edit_mood{height:9.764705882352942rem;outline:none;width:90%;resize:none;border:0;margin:0 auto;color:#999;font-size:.8823529411764706rem}#edit_mood,.edit_loc{display:block;overflow:hidden}.edit_loc{min-width:131px;max-width:181px;height:26px;border:1px solid #dcdcdc;font-size:12px;color:#949292;line-height:26px;position:absolute;bottom:.5882352941176471rem;left:.8823529411764706rem;padding-right:10px;border-radius:15px}.edit_loc img{float:left;display:block;width:14px;margin-top:4px;margin-left:10px;margin-right:5px}.edit_num{font-size:12px;color:#999;position:absolute;right:.8823529411764706rem;bottom:.8823529411764706rem}.edit_option{height:2.1764705882352944rem;background:#fff;padding-top:.8823529411764706rem;display:flex;padding-left:.5882352941176471rem}.edit_option div{flex-grow:1;position:relative}.edit_option img{display:block;margin:0 auto}.optionFrist{width:1.1764705882352942rem}.optionSecond{width:1.411764705882353rem}.optionThird{width:1.352941176470588rem}.optionFourth{width:4.11764705882353rem;font-size:12px;color:#999;border:1px solid #dcdcdc;margin:0 auto;text-align:center;height:1.1764705882352942rem;line-height:1.1764705882352942rem;border-radius:8px}.option_five{margin-top:-.17647058823529413rem;height:1.4705882352941178rem;width:3.5294117647058822rem;margin-left:1.1764705882352942rem}.edit_option .optionjt{position:absolute;left:50%;margin-left:-.7058823529411765rem;width:1.411764705882353rem;bottom:-2px;visibility:hidden}.edit_option .optionjtFlag{visibility:visible}",""])},150:function(t,o,i){t.exports=i.p+"dz_nor.png"},191:function(t,o,i){t.exports={render:function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",[t.hide?t._e():n("div",{staticClass:"edit_box"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.moodcontent,expression:"moodcontent"}],attrs:{id:"edit_mood",placeholder:"这一刻的心情......（8个字以上）",maxlength:"140"},domProps:{value:t.moodcontent},on:{input:[function(o){o.target.composing||(t.moodcontent=o.target.value)},t.listenContent]}}),t._v(" "),n("div",{staticClass:"edit_loc",on:{click:function(o){t.getLoc()}}},[t._v(t._s(t.showAddress)),n("img",{attrs:{src:i(150),alt:""}})]),t._v(" "),n("span",{staticClass:"edit_num"},[t._v(t._s(t.levelchars))])]),t._v(" "),t.hide?t._e():n("div",{staticClass:"edit_option"},[n("div",[n("router-link",{attrs:{to:"/myCenter/myIndex/Edit/optionFrist"}},[n("img",{staticClass:"optionFrist",attrs:{src:t.buttons.first.curr,alt:""},on:{click:function(o){t.clickoptions("first")}}})]),t._v(" "),n("img",{class:{optionjt:!0,optionjtFlag:t.buttons.first.on},attrs:{src:i(90),alt:""}})],1),t._v(" "),n("div",[n("router-link",{attrs:{to:"/myCenter/myIndex/Edit/optionSecond"}},[n("img",{staticClass:"optionSecond",staticStyle:{"margin-top":"-0.3rem"},attrs:{src:t.buttons.second.curr,alt:""},on:{click:function(o){t.clickoptions("second")}}})]),t._v(" "),n("img",{class:{optionjt:!0,optionjtFlag:t.buttons.second.on},attrs:{src:i(90),alt:""}})],1),t._v(" "),n("div",[n("router-link",{attrs:{to:"/myCenter/myIndex/Edit/optionThird"}},[n("img",{staticClass:"optionThird",attrs:{src:t.buttons.third.curr,alt:""},on:{click:function(o){t.clickoptions("third")}}})]),t._v(" "),n("img",{class:{optionjt:!0,optionjtFlag:t.buttons.third.on},attrs:{src:i(90),alt:""}})],1),t._v(" "),n("div",[n("div",{staticClass:"optionFourth",on:{click:function(o){t.changeisopen()}}},[t._v(t._s(1==t.isopen?"匿名公开":"不公开"))])]),t._v(" "),n("div",[n("button",{class:{"option_five weui-btn weui-btn_mini weui-btn_primary":!0,"weui-btn_disabled":!t.cansubmit},attrs:{disabled:!t.cansubmit,id:"publishBtn"},on:{click:function(o){t.submitMood()}}},[t._v("发布")])])]),t._v(" "),n("router-view",{staticStyle:{overflow:"scroll"},attrs:{frmparentpictures:t.pictureListForUpload}})],1)},staticRenderFns:[]}},218:function(t,o,i){var n=i(140);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(2)("130b8cb2",n,!0)},39:function(t,o,i){i(218);var n=i(0)(i(96),i(191),null,null);t.exports=n.exports},72:function(t,o,i){"use strict";var n=i(95),e=i.n(n);o.a=new e.a},90:function(t,o,i){t.exports=i.p+"jt.gif"},96:function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=i(72);o.default={data:function(){return{moodcontent:"",contminlength:8,maxchars:140,levelchars:140,cansubmit:!1,moodid:0,isopen:1,address:"",showAddress:"点击获取所在位置",pictures:[],hide:!1,buttons:{first:{curr:web.IMG_PATH+"zp_nor.png",nor:web.IMG_PATH+"zp_nor.png",pre:web.IMG_PATH+"zp_pre.png",on:!1},second:{curr:web.IMG_PATH+"bq_nor.png",nor:web.IMG_PATH+"bq_nor.png",pre:web.IMG_PATH+"bq_pre.png",on:!1},third:{curr:web.IMG_PATH+"gxtp_nor.png",nor:web.IMG_PATH+"gxtp_nor.png",pre:web.IMG_PATH+"gxtp_pre.png",on:!1}},pictureListForUpload:[]}},methods:{getLoc:function(){var t=this;wx.getLocation({type:"wgs84",success:function(o){var i=o.latitude,n=o.longitude;o.speed,o.accuracy;t.$router.push({path:"/positionList?latitude="+i+"&longitude="+n}),t.hide=!0,console.log(i,n)},cancel:function(t){alert("用户拒绝授权获取地理位置")}}),console.log("获取经纬度")},listenContent:function(){var t=this.moodcontent.length;this.cansubmit=this.moodcontent.length>=this.contminlength,t>this.maxchars?(this.moodcontent=this.moodcontent.substring(0,this.maxchars),this.levelchars=0):this.levelchars=this.maxchars-t},clickoptions:function(t){var o=this;for(var i in this.buttons){var n=t==i;o.buttons[i].on=n,o.buttons[i].curr=n?o.buttons[i].pre:o.buttons[i].nor}},changeisopen:function(){var t=this;t.isopen=1-t.isopen},submitMood:function(){var t=this,o={id:t.moodid,isOpen:t.isopen,userId:"_userId_",address:t.address,content:t.moodcontent,pictures:t.pictures};t.cansubmit=!1,t.$http.post(web.API_PATH+"mood/append",o).then(function(o){o.data&&1==o.data.status&&t.$router.push({path:"/myCenter/myIndex"})})},setShowAddress:function(){""==this.address?this.showAddress="不显示地址":this.showAddress=this.address}},mounted:function(){var t=this;t.moodid=t.$route.query.id,n.a.$on("selectaddress",function(o){t.address=o,t.setShowAddress(),t.hide=!1}),n.a.$on("moodContentChange",function(o){t.moodcontent=o,t.listenContent()}),n.a.$on("picturesChange",function(o){t.pictures=o})}}}});
//# sourceMappingURL=13.build.js.map