webpackJsonp([14],{116:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={data:function(){return{}}}},117:function(t,e,o){e=t.exports=o(0)(),e.push([t.i,"",""])},119:function(t,e,o){o(121);var s=o(1)(o(116),o(120),null,null);t.exports=s.exports},120:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"weui-mask_transparent"}),t._v(" "),o("div",{staticClass:"weui-toast"},[o("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),o("p",{staticClass:"weui-toast__content"},[t._v("数据加载中")])])])}]}},121:function(t,e,o){var s=o(117);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(2)("5de0c1c0",s,!0)},129:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(53);e.default={props:{offset:{type:Number,default:40},enableInfinite:{type:Boolean,default:!0},enableRefresh:{type:Boolean,default:!0},onRefresh:{type:Function,default:void 0,required:!1},onInfinite:{type:Function,default:void 0,require:!1},isPageEnd:!1,isShowMoreText:!0,isNotRefresh:!0},data:function(){return{top:0,state:0,startY:0,touching:!1,infiniteLoading:!1,height:"height:100px"}},mounted:function(){var t=this;this.height="height:"+document.body.clientHeight+"px",this.loadMoreText(),s.a.$on("scrollMoreTextInit",function(e){t.isShowMoreText=e,t.loadMoreText()})},methods:{touchStart:function(t){this.startY=t.targetTouches[0].pageY,this.startScroll=this.$el.scrollTop||0,this.touching=!0},touchMove:function(t){if(this.enableRefresh&&!(this.$el.scrollTop>0)&&this.touching){var e=t.targetTouches[0].pageY-this.startY-this.startScroll;e>0&&t.preventDefault(),this.top=Math.pow(e,.8)+(2===this.state?this.offset:0),2!==this.state&&(this.top>=this.offset?this.state=1:this.state=0)}},touchEnd:function(t){if(this.enableRefresh){if(this.touching=!1,2===this.state)return this.state=2,void(this.top=this.offset);this.top>=this.offset?this.refresh():(this.state=0,this.top=0),this.loadMoreText()}},refresh:function(){this.state=2,this.top=this.offset,this.isNotRefresh?this.refreshDone():this.onRefresh(this.refreshDone)},refreshDone:function(){this.state=0,this.top=0},loadMoreText:function(){this.isShowMoreText?this.isPageEnd?($(".load-more").hide(),$(".load-finish").show()):($(".load-finish").hide(),$(".load-more").show()):($(".load-more").hide(),$(".load-finish").hide())},infinite:function(){console.log("Loading"),this.infiniteLoading=!0,this.onInfinite(this.infiniteDone)},infiniteDone:function(){console.log("done"),this.infiniteLoading=!1},onScroll:function(t){if(this.enableInfinite&&!this.infiniteLoading){var e=this.$el.clientHeight;this.$el.querySelector(".inner").clientHeight-e-this.$el.scrollTop-(this.onRefresh?this.$el.querySelector(".pull-refresh").clientHeight:0)<this.$el.querySelector(".load-more").clientHeight&&this.infinite()}}}}},130:function(t,e,o){e=t.exports=o(0)(),e.push([t.i,"body,html{height:100%}.yo-scroll{position:absolute;top:0;right:0;bottom:0;left:0;overflow:auto;-webkit-overflow-scrolling:touch;background:#f5f5f5}.yo-scroll .inner{position:absolute;top:-2rem;width:100%;transition-duration:.3s}.yo-scroll .pull-refresh{position:relative;left:0;top:0;width:100%;height:2rem;display:flex;align-items:center;justify-content:center}.yo-scroll.touch .inner{transition-duration:0ms}.yo-scroll.down .down-tip,.yo-scroll.refresh .refresh-tip,.yo-scroll.up .up-tip{display:block}.yo-scroll .down-tip,.yo-scroll .refresh-tip,.yo-scroll .up-tip{display:none}.yo-scroll .load-more{height:3rem;display:flex;align-items:center;justify-content:center;text-align:center}.yo-scroll .load-finish{height:2rem;text-align:center}.loadFont{font-size:12px;color:#999}",""])},131:function(t,e,o){o(133);var s=o(1)(o(129),o(132),null,null);t.exports=s.exports},132:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"yo-scroll",class:{down:0===t.state,up:1==t.state,refresh:2===t.state,touch:t.touching},style:t.height,on:{touchstart:function(e){t.touchStart(e)},touchmove:function(e){t.touchMove(e)},touchend:function(e){t.touchEnd(e)},scroll:function(e){(t.onInfinite||t.infiniteLoading)&&t.onScroll(e)}}},[o("section",{staticClass:"inner",style:{transform:"translate3d(0, "+t.top+"px, 0)"}},[o("header",{staticClass:"pull-refresh"},[t._t("pull-refresh",[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNotRefresh,expression:"!isNotRefresh"}]},[o("span",{staticClass:"down-tip loadFont"},[t._v("下拉更新")]),t._v(" "),o("span",{staticClass:"up-tip loadFont"},[t._v("松开更新")]),t._v(" "),o("span",{staticClass:"refresh-tip loadFont"},[t._v("更新中")])])])],2),t._v(" "),t._t("default"),t._v(" "),o("footer",{staticClass:"load-more"},[t._t("load-more",[o("span",{directives:[{name:"show",rawName:"v-show",value:!t.infiniteLoading,expression:"!infiniteLoading"}],staticClass:"loadFont"},[t._v("上拉加载更多")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.infiniteLoading,expression:"infiniteLoading"}],staticClass:"loadFont"},[t._v("数据加载中..")])])],2),t._v(" "),o("footer",{staticClass:"load-finish",staticStyle:{display:"none"}},[t._t("load-finish",[o("span",{staticClass:"loadFont"},[t._v("已经加载完成")])])],2)],2)])},staticRenderFns:[]}},133:function(t,e,o){var s=o(130);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(2)("18db66ab",s,!0)},189:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(119),i=o.n(s),n=o(131),a=o.n(n);e.default={data:function(){return{fabulousLists:[],num:1e4,counter:1,pageStart:0,pageEnd:0,isPageEnd:!1,sleepId:"",type:"",showLoad:!1,isShowMoreText:!0}},components:{"v-showLoad":i.a,"v-scroll":a.a},mounted:function(){this.sleepId=this.$route.query.sleepId,this.type=this.$route.query.type,this.showLoad=!0,this.getFabulousList(),this.updateRead()},methods:{updateRead:function(){this.$http.post(web.API_PATH+"sleep/notice/read/"+this.sleepId+"/"+this.type+"/_userId_",{}).then(function(t){})},getFabulousList:function(){var t=this;t.showLoad=!0,t.$http({method:"GET",url:web.API_PATH+"sleep/query/cares/"+t.sleepId+"/"+t.type+"/"+t.counter+"/"+t.num+"/_userId_"}).then(function(e){1==e.data.status&&(t.fabulousLists=e.data.data.rows),t.showLoad=!1,t.fabulousLists.length<t.num&&(t.isPageEnd=!0)})},onInfinite:function(t){var e=this;e.$http.get(web.API_PATH+"sleep/query/cares/"+e.sleepId+"/"+e.type+"/"+(e.counter+1)+"/"+e.num+"/_userId_").then(function(o){e.counter++,e.pageEnd=e.num*e.counter,e.pageStart=e.pageEnd-e.num;var s=o.data.data.rows,i=0;e.pageEnd;for(console.log(s);i<s.length;i++)e.fabulousLists.push(s[i]);s.length<e.num&&(e.isPageEnd=!0),console.log(e.isPageEnd),t()},function(t){console.log("error")})}}}},260:function(t,e,o){e=t.exports=o(0)(),e.push([t.i,".fabulous_box,.fabulous_box .fabulous_scroll,.fabulous_scroll .inner{height:100%;background:#fff}.noZanBox{margin-top:45%}.noZanImg{display:block;width:9.235rem;margin:0 auto;margin-bottom:1.3rem}.noZanBox div{font-size:.88235rem;color:#999;text-align:center}.fabulousLists li{display:flex;border-bottom:1px solid #eee;padding:.588rem .88235rem;position:relative;line-height:1}.fabulousLists img{display:block;height:2.588rem;width:2.588rem;border-radius:.3rem}.fabulousName{font-size:.88235rem;color:#333;margin-left:.88235rem;margin-top:.88235rem}.fabulousTime{font-size:.765rem;color:#999;position:absolute;right:.88235rem;margin-top:.94rem}",""])},334:function(t,e,o){t.exports=o.p+"noZan.png"},409:function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fabulous_box"},[t.fabulousLists?t._e():s("div",{staticClass:"noZanBox"},[s("img",{staticClass:"noZanImg",attrs:{src:o(334),alt:""}}),t._v(" "),s("div",[t._v("还没有人点赞")])]),t._v(" "),s("div",{directives:[{name:"title",rawName:"v-title"}]},[t._v("赞我的人")]),t._v(" "),s("ul",{staticClass:"fabulousLists"},[t.showLoad?s("v-showLoad"):t._e(),t._v(" "),t._l(t.fabulousLists,function(e){return s("li",[s("img",{attrs:{src:e.faceUrl,alt:""}}),t._v(" "),s("div",{staticClass:"fabulousName"},[t._v(t._s(e.nickName))]),t._v(" "),s("div",{staticClass:"fabulousTime"},[t._v(t._s(e.friendTime))])])})],2)])},staticRenderFns:[]}},462:function(t,e,o){var s=o(260);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(2)("67ddc702",s,!0)},77:function(t,e,o){o(462);var s=o(1)(o(189),o(409),null,null);t.exports=s.exports}});
//# sourceMappingURL=14.build.js.map?6c92a