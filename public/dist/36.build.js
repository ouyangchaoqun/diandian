webpackJsonp([36],{109:function(t,i,e){e(453);var s=e(1)(e(224),e(400),null,null);t.exports=s.exports},118:function(t,i,e){t.exports=e.p+"me_jt.png"},224:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default={data:function(){return{hour:"--",minute:"--",isSub:!1,unsubscribe_box:!1,dataArray:[],issubscribe:"",detail:{},minHour:0,maxHour:24,defaultArray:[]}},beforeCreate:function(){console.log("beforeCreate");var t=this,i=t.$route.params.id;this.$http({method:"GET",url:web.API_PATH+"subscribe/query/detail/with/user/"+i+"/_userId_"}).then(function(i){console.log(i),t.detail=i.data.data,t.detail.remindtime=t.detail.remindtime||"--:--";var e=t.detail.remindtime.split(":"),s=t.detail.defaulttime.toString().split("");s.length<4&&s.unshift("0"),t.defaultArray[0]=s[0]+s[1],t.defaultArray[1]=s[2]+s[3],e[0]&&"--"!=e[0]&&(t.defaultArray[0]=e[0]),e[1]&&"--"!=e[1]&&(t.defaultArray[1]=e[1]),"--"==e[0]&&"--"==e[1]?(t.hour=t.defaultArray[0],t.minute=t.defaultArray[1]):(t.hour=e[0],t.minute=e[1]),t.minHour=parseInt(t.detail.mintime/100),t.maxHour=parseInt(t.detail.maxtime/100)},function(t){})},mounted:function(){},methods:{showTime:function(){for(var t,i=this,e=[],s=i.minHour;s<=i.maxHour;s++)t=s<10?{label:"0"+s,value:"0"+s}:{label:""+s,value:""+s},e.push(t);var r=[];for(s=0;s<60;s++)t=s<10?{label:"0"+s,value:"0"+s}:{label:""+s,value:""+s},r.push(t);console.log(i.defaultArray),weui.picker(e,r,{defaultValue:i.defaultArray,onConfirm:function(t){i.hour=t[0].value,i.minute=t[1].value,i.setRemindTime()}})},show_unsubscribeBox:function(){var t=this;xqzs.weui.actionSheet("确定要取消提醒吗？","取消提醒",function(){var i={subscriptionId:t.$route.params.id,userId:""};t.$http.put(web.API_PATH+"subscribe/unsubscribe",i).then(function(i){console.log(i),xqzs.weui.toast("success","取消成功",function(){t.$router.go(-1)})})},function(){})},setRemindTime:function(){var t=this,i={subscriptionId:this.$route.params.id,userId:"",remindTime:this.hour+":"+this.minute};console.log(i),t.$http.put(web.API_PATH+"subscribe/subscribe",i).then(function(i){console.log(i),xqzs.weui.toast("success","设置成功",function(){t.$router.go(-1)})})}}}},251:function(t,i,e){i=t.exports=e(0)(),i.push([t.i,".subscribeList_box{height:100%;background:#f4f4f8}.subscribeList_header{position:relative}.subscribeList_header img{display:block}.subscribeList_header img:first-of-type{height:90px;width:100%}.subscribeList_header img:nth-of-type(2){height:60px;position:absolute;left:50%;margin-left:-30px;top:60px;border-radius:50%}.subscribeList_header div{font-size:12px;color:#fff;text-align:center;position:absolute;top:33px;width:200px;left:50%;margin-left:-100px}.subscribeListMiddle{background:#fff;padding-top:40px;text-align:left;font-size:12px;color:#999;margin-bottom:15px;padding-bottom:20px}.subscribeListMiddle h3{font-size:15px;line-height:15px;color:#666;margin-bottom:12px;text-align:center}.subscribeListMiddle p{text-align:center;padding-bottom:12px}.subscribeListMiddle div{padding:0 25px;line-height:18px;height:54px;overflow-y:scroll}.subscribeListBottom{height:100px;background:#fff;padding-left:15px;margin-bottom:30px}.subscribeListBottom div{height:49px;line-height:49px;border-bottom:1px solid #e5e5e5;font-size:16px;font-weight:600;color:#666}.subscribeListBottom .timeSet{border:0;height:50px;line-height:50px;font-size:15px;font-weight:400;padding-right:15px}.subscribeListSet{padding:0 15px}.subBtn:active{background:rgba(0,0,0,.2)}.showPicker{font-size:15px}.timeSet .timeSetRight{float:right;border:0;font-weight:400;margin-right:13px;color:#999}.timeSet img{float:right;height:16px;margin-top:18px}.weui-picker{z-index:10005}.subBtn{color:#999}.unsubscribe{color:red}",""])},400:function(t,i,e){t.exports={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("div",{staticClass:"subscribeList_box"},[s("div",{staticClass:"subscribeList_header"},[s("img",{attrs:{src:t.detail.cover,alt:""}}),t._v(" "),s("img",{attrs:{src:t.detail.icon,alt:""}})]),t._v(" "),s("div",{staticClass:"subscribeListMiddle"},[s("p",[t._v(t._s(t.detail.subscribecount)+"人已设置")]),t._v(" "),s("h3",[t._v(t._s(t.detail.title))]),t._v(" "),s("div",[t._v(t._s(t.detail.description))])]),t._v(" "),s("div",{staticClass:"subscribeListBottom"},[s("div",[t._v("推送设置")]),t._v(" "),s("div",{staticClass:"timeSet",on:{click:function(i){t.showTime()}}},[t._v("提醒时间\n                "),s("img",{attrs:{src:e(118),alt:""}}),t._v(" "),s("div",{staticClass:"timeSetRight"},[s("span",{staticClass:"hours showPicker"},[t._v(t._s(t.hour))]),t._v("\n                    :\n                    "),s("span",{staticClass:"minutes showPicker"},[t._v(t._s(t.minute))])])])]),t._v(" "),s("div",{staticClass:"subscribeListSet"},[1==!t.detail.issubscribe?s("button",{staticClass:"weui-btn weui-btn_primary",on:{click:t.setRemindTime}},[t._v("设置提醒")]):t._e(),t._v(" "),1==t.detail.issubscribe?s("button",{staticClass:"weui-btn subBtn",on:{click:t.show_unsubscribeBox}},[t._v("取消提醒")]):t._e()])])])},staticRenderFns:[]}},453:function(t,i,e){var s=e(251);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(2)("563f9258",s,!0)}});
//# sourceMappingURL=36.build.js.map?6c92a