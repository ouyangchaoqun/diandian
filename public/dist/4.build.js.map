{"version":3,"sources":["webpack:///4.build.js","webpack:///./src/component/validate.vue","webpack:///validate.vue","webpack:///./src/component/validate.vue?a409","webpack:///./src/component/validate.vue?1685","webpack:///./src/component/validate.vue?b860"],"names":["webpackJsonp","161","module","exports","__webpack_require__","Component","172","__webpack_exports__","Object","defineProperty","value","data","isGetingCodeIn","interValObj","time","getCodeBtnText","isShowMessage","isMobileRight","isErrorCode","mobile","code","message","isShowErrorMobileMsg","isShowErrorCodeMsg","isAllInput","mounted","_this","this","$","keyup","length","xqzs","string","checkUserPhoneReg","console","log","val","focus","click","hasClass","ajax","type","dataType","url","success","state","show","setTimeout","history","go","hide","methods","submit","$http","post","web","API_PATH","then","response","status","weui","toast","$router","getCode","setInterval","setRemainTime","clearInterval","179","push","i","195","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","directives","name","rawName","expression","attrs","oninput","placeholder","domProps","on","input","$event","target","composing","id","_e","class","weui-btn_plain-disabled","href","_s","maxlength","weui-btn_disabled","staticRenderFns","201","content","locals"],"mappings":"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","file":"4.build.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 161:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(201)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(172),\n  /* template */\n  __webpack_require__(195),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar validate = {\n    template: '#validate'\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            isGetingCodeIn: false,\n            interValObj: null,\n            time: 60,\n            getCodeBtnText: \"获取验证码\",\n            isShowMessage: false,\n            isMobileRight: false,\n            isErrorCode: false,\n            mobile: \"\",\n            code: \"\",\n            message: \"验证码已发送，请注意查收短信\",\n            isShowErrorMobileMsg: false,\n            isShowErrorCodeMsg: false,\n            isAllInput: false\n\n        };\n    },\n\n    mounted: function mounted() {\n        var _this = this;\n\n        $('.input_phone').keyup(function () {\n\n            var length = _this.mobile.length;\n            if (length == 11) {\n                if (xqzs.string.checkUserPhoneReg(_this.mobile)) {\n                    _this.isShowErrorMobileMsg = false;\n                    _this.isMobileRight = true;\n                } else {\n                    _this.isMobileRight = false;\n                    _this.isShowErrorMobileMsg = true;\n                    _this.isAllInput = false;\n                }\n            } else {\n                _this.isMobileRight = false;\n                _this.isShowErrorMobileMsg = false;\n                _this.isAllInput = false;\n            }\n            console.log(_this.isMobileRight);\n        });\n        $('.input_code').keyup(function () {\n\n            var len = $(\".input_code\").val().length;\n            if (len == 4) {\n                _this.isErrorCode = false;\n                if (_this.isMobileRight === true) {\n                    _this.isAllInput = true;\n                }\n            } else {\n                _this.isAllInput = false;\n                _this.isErrorCode = true;\n            }\n        });\n\n        //获得焦点\n        $('.input_phone').focus(function () {\n            _this.isShowErrorMobileMsg = false;\n        });\n\n        $('#sublim').click(function () {\n            if ($('#sublim').hasClass('weui-btn_disabled')) {} else {\n                $.ajax({\n                    type: \"get\",\n                    dataType: \"json\",\n                    url: \"mobile.json\",\n                    //data:\"mobile=\"+ $(\"#mobile\").val() + \"&code=\"+ $(\".codeval\").val(),\n                    success: function success(data) {\n                        console.log(data);\n                        if (data.state == 1) {\n                            $(\"._toast\").show();\n                            setTimeout(function () {\n                                history.go(-1);\n                                $(\"._toast\").hide();\n                            }, 1000);\n                            console.log(data.state);\n                        } else {}\n                    }\n                });\n            }\n        });\n    },\n    methods: {\n        submit: function submit() {\n            var _this = this;\n\n            if (_this.isAllInput == true) {\n                _this.$http.post(web.API_PATH + 'base/verification/code/post/mobilecode', { mobile: _this.mobile, code: _this.code }).then(function (response) {\n                    if (response.data.status === 1) {\n                        xqzs.weui.toast(\"success\", \"验证成功\", function () {\n                            _this.$router.go(-1);\n                        });\n                    } else {\n                        if (response.data.status === -2 || response.data.status === -3) {\n                            _this.isShowErrorCodeMsg = true;\n                        }\n                        //-1 手机号码为空，-4 验证码为空 ，-5 手机格式错误，-2 验证码过期，-3 验证码不存在\n                    }\n                }, function (response) {\n                    // error\n                });\n            }\n        },\n\n        getCode: function getCode() {\n            var _this = this;\n            if (_this.isMobileRight && !_this.isGetingCodeIn) {\n                _this.$http.post(web.API_PATH + 'base/verification/code/get/code', { mobile: _this.mobile }).then(function (response) {\n                    if (response.data.status === 1) {\n                        _this.interValObj = setInterval(function () {\n                            _this.setRemainTime();\n                        }, 1000);\n                        _this.isShowMessage = true;\n                        _this.message = \"验证码已发送，请注意查收短信\";\n                    } else if (response.data.status === -1) {\n                        _this.isShowMessage = true;\n                        _this.message = \"请勿频繁获取验证码\";\n                    } else if (response.data.status === -2) {\n                        _this.isShowMessage = true;\n                        _this.message = \"手机号码不能为空\";\n                    } else if (response.data.status === -3) {\n                        _this.isShowMessage = true;\n                        _this.message = \"手机号码格式不正确\";\n                    }\n                }, function (response) {\n                    // error\n                });\n            }\n        },\n        setRemainTime: function setRemainTime() {\n            var _this = this;\n            if (_this.time == 0) {\n                clearInterval(_this.interValObj);\n                _this.getCodeBtnText = \"获取验证码\";\n                _this.isGetingCodeIn = false;\n                _this.isShowMessage = false;\n                _this.time = 60;\n            } else {\n                _this.time--;\n                _this.getCodeBtnText = '重获验证码' + '(' + _this.time + ')';\n                _this.isGetingCodeIn = true;\n                _this.isShowMessage = true;\n            }\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 179:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)();\n// imports\n\n\n// module\nexports.push([module.i, \".validate_box{padding:20px 15px;background:#fff;height:100%}.validate_top{margin-bottom:32px}.validate_top h1{font-size:18px;color:#f90;margin-bottom:18px}.validate_top p{font-size:15px;color:#878686;text-align:center}input{height:20px;outline:none;border:0;line-height:20px;margin-top:12px}#_phonebtn{width:110px;height:44px;font-size:12px;padding:0;text-align:center}.input_code,.input_phone{font-size:15px;color:#333}.input_code{width:100%}.validate_div{height:44px;margin-bottom:26px;position:relative}.validate_phone{border:1px solid #d2d2d2;height:44px;border-radius:5px;padding-left:15px;padding-right:7px;float:left;width:180px;overflow:hidden}#_phonebtn{float:right;font-size:14px}.validate_code{height:44px;border:1px solid #d2d2d2;border-radius:5px;margin-bottom:44px;padding-left:15px;position:relative}#errorCode,#errorMobile{color:#fc0303}#errorCode,#errorMobile,#message{font-size:11px;position:absolute;left:15px;top:50px}#message{color:#999}input:-ms-input-placeholder{color:rgba(0,0,0,.2)}input::-webkit-input-placeholder{color:rgba(0,0,0,.2)}input:-moz-placeholder,input::-moz-placeholder{color:rgba(0,0,0,.2)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"validate_box\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"validate_div\"\n  }, [_c('div', {\n    staticClass: \"validate_phone\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.mobile),\n      expression: \"mobile\"\n    }],\n    staticClass: \"input_phone\",\n    attrs: {\n      \"type\": \"tel\",\n      \"oninput\": \"if(value.length>11)value=value.slice(0,11)\",\n      \"placeholder\": \"请输入您的手机号\"\n    },\n    domProps: {\n      \"value\": (_vm.mobile)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.mobile = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), (!_vm.isMobileRight && _vm.isShowErrorMobileMsg) ? _c('p', {\n    attrs: {\n      \"id\": \"errorMobile\"\n    }\n  }, [_vm._v(\"手机格式错误\")]) : _vm._e()]), _vm._v(\" \"), _c('button', {\n    staticClass: \"weui-btn weui-btn_plain-primary \",\n    class: {\n      'weui-btn_plain-disabled': !_vm.isMobileRight || _vm.isGetingCodeIn\n    },\n    attrs: {\n      \"href\": \"javascript:;\",\n      \"id\": \"_phonebtn\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getCode()\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.getCodeBtnText) + \"\\n            \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"validate_code\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.code),\n      expression: \"code\"\n    }],\n    staticClass: \"input_code\",\n    attrs: {\n      \"type\": \"tel\",\n      \"placeholder\": \"请输入您收到的验证码\",\n      \"maxlength\": \"4\"\n    },\n    domProps: {\n      \"value\": (_vm.code)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.code = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), (_vm.isShowErrorCodeMsg) ? _c('p', {\n    attrs: {\n      \"id\": \"errorCode\"\n    }\n  }, [_vm._v(\"验证码错误\")]) : _vm._e(), _vm._v(\" \"), (_vm.isShowMessage) ? _c('p', {\n    attrs: {\n      \"id\": \"message\"\n    }\n  }, [_vm._v(_vm._s(_vm.message))]) : _vm._e()]), _vm._v(\" \"), _c('div', [_c('button', {\n    staticClass: \"weui-btn  weui-btn_primary\",\n    class: {\n      'weui-btn_disabled': !_vm.isAllInput\n    },\n    attrs: {\n      \"id\": \"sublim\",\n      \"href\": \"javascript:;\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit()\n      }\n    }\n  }, [_vm._v(\"确定\\n            \")])])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"validate_top\"\n  }, [_c('h1', [_vm._v(\"温馨提示\")]), _vm._v(\" \"), _c('p', [_vm._v(\"首次记录心情，必须通过手机验证哦！\")])])\n}]}\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(179);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"65abde90\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 4.build.js","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-8b56c18a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./validate.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./validate.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8b56c18a\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./validate.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/validate.vue\n// module id = 161\n// module chunks = 4","<template id=\"validate\">\r\n    <div>\r\n        <div class=\"validate_box\">\r\n            <div class=\"validate_top\">\r\n                <h1>温馨提示</h1>\r\n                <p>首次记录心情，必须通过手机验证哦！</p>\r\n            </div>\r\n            <div class=\"validate_div\">\r\n                <div class=\"validate_phone\">\r\n                    <input class=\"input_phone\" type=\"tel\" oninput=\"if(value.length>11)value=value.slice(0,11)\"\r\n                           placeholder=\"请输入您的手机号\" v-model=\"mobile\"/>\r\n                    <p id=\"errorMobile\" v-if=\"!isMobileRight&&isShowErrorMobileMsg\">手机格式错误</p>\r\n                </div>\r\n                <button href=\"javascript:;\" id=\"_phonebtn\" @click=\"getCode()\"\r\n                        class=\"weui-btn weui-btn_plain-primary \"\r\n                        :class=\"{'weui-btn_plain-disabled':!isMobileRight||isGetingCodeIn}\">{{getCodeBtnText}}\r\n                </button>\r\n            </div>\r\n\r\n\r\n            <div class=\"validate_code\">\r\n                <input class=\"input_code\" type=\"tel\" placeholder=\"请输入您收到的验证码\" maxlength=\"4\" v-model=\"code\"/>\r\n                <p id=\"errorCode\" v-if=\"isShowErrorCodeMsg\">验证码错误</p>\r\n                <p id=\"message\" v-if=\"isShowMessage\">{{message}}</p>\r\n            </div>\r\n            <div>\r\n                <button id=\"sublim\" href=\"javascript:;\" class=\"weui-btn  weui-btn_primary\"\r\n                        :class=\"{'weui-btn_disabled':!isAllInput}\" @click=\"submit()\">确定\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    var validate = {\r\n        template: '#validate'\r\n    }\r\n    export default {\r\n        data() {\r\n            return {\r\n                isGetingCodeIn: false,\r\n                interValObj: null,\r\n                time: 60,\r\n                getCodeBtnText: \"获取验证码\",\r\n                isShowMessage: false,\r\n                isMobileRight: false,\r\n                isErrorCode: false,\r\n                mobile: \"\",\r\n                code:\"\",\r\n                message: \"验证码已发送，请注意查收短信\",\r\n                isShowErrorMobileMsg: false,\r\n                isShowErrorCodeMsg: false,\r\n                isAllInput:false\r\n\r\n            }\r\n        },\r\n        mounted: function () {\r\n            let _this = this;\r\n\r\n            $('.input_phone').keyup(function () {\r\n\r\n                var length = _this.mobile.length;\r\n                if (length == 11) {\r\n                    if (xqzs.string.checkUserPhoneReg(_this.mobile)) {\r\n                        _this.isShowErrorMobileMsg =false;\r\n                        _this.isMobileRight = true;\r\n                    } else {\r\n                        _this.isMobileRight = false;\r\n                        _this.isShowErrorMobileMsg = true;\r\n                        _this.isAllInput =false;\r\n                    }\r\n                } else {\r\n                    _this.isMobileRight = false;\r\n                    _this.isShowErrorMobileMsg = false;\r\n                    _this.isAllInput =false;\r\n                 }\r\n                console.log(_this.isMobileRight)\r\n            });\r\n            $('.input_code').keyup(function () {\r\n\r\n                var len = $(\".input_code\").val().length;\r\n                if (len == 4) {\r\n                    _this.isErrorCode = false;\r\n                    if(_this.isMobileRight===true){\r\n                        _this.isAllInput =true;\r\n                    }\r\n\r\n                } else {\r\n                    _this.isAllInput =false;\r\n                    _this.isErrorCode = true\r\n                }\r\n            });\r\n\r\n            //获得焦点\r\n            $('.input_phone').focus(function () {\r\n                _this.isShowErrorMobileMsg = false;\r\n            });\r\n\r\n\r\n\r\n            $('#sublim').click(function () {\r\n                if ($('#sublim').hasClass('weui-btn_disabled')) {\r\n\r\n                } else {\r\n                    $.ajax({\r\n                        type: \"get\",\r\n                        dataType: \"json\",\r\n                        url: \"mobile.json\",\r\n                        //data:\"mobile=\"+ $(\"#mobile\").val() + \"&code=\"+ $(\".codeval\").val(),\r\n                        success: function (data) {\r\n                            console.log(data)\r\n                            if (data.state == 1) {\r\n                                $(\"._toast\").show()\r\n                                setTimeout(function () {\r\n                                    history.go(-1);\r\n                                    $(\"._toast\").hide()\r\n                                }, 1000);\r\n                                console.log(data.state)\r\n                            } else {\r\n\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n            });\r\n\r\n\r\n        },\r\n        methods: {\r\n            submit:function () {\r\n                let _this = this;\r\n\r\n                if(_this.isAllInput==true){\r\n                    _this.$http.post(web.API_PATH + 'base/verification/code/post/mobilecode', {mobile: _this.mobile,code:_this.code}).then(response => {\r\n                        if (response.data.status === 1) {\r\n                            xqzs.weui.toast(\"success\",\"验证成功\",function () {\r\n                                _this.$router.go(-1);\r\n                            })\r\n                        } else   {\r\n                            if(response.data.status === -2 || response.data.status === -3){\r\n                               _this.isShowErrorCodeMsg =true;\r\n                            }\r\n                            //-1 手机号码为空，-4 验证码为空 ，-5 手机格式错误，-2 验证码过期，-3 验证码不存在\r\n\r\n                        }\r\n\r\n                    }, response => {\r\n                        // error\r\n                    });\r\n                }\r\n\r\n            },\r\n\r\n            getCode: function () {\r\n                let _this = this;\r\n                if (_this.isMobileRight&&!_this.isGetingCodeIn) {\r\n                    _this.$http.post(web.API_PATH + 'base/verification/code/get/code', {mobile: _this.mobile}).then(response => {\r\n                        if (response.data.status === 1) {\r\n                            _this.interValObj = setInterval(function () {\r\n                                _this.setRemainTime();\r\n                            }, 1000);\r\n                            _this.isShowMessage = true;\r\n                            _this.message = \"验证码已发送，请注意查收短信\";\r\n                        } else if (response.data.status === -1) {\r\n                            _this.isShowMessage = true;\r\n                            _this.message = \"请勿频繁获取验证码\";\r\n                        } else if (response.data.status === -2) {\r\n                            _this.isShowMessage = true;\r\n                            _this.message = \"手机号码不能为空\";\r\n                        } else if (response.data.status === -3) {\r\n                            _this.isShowMessage = true;\r\n                            _this.message = \"手机号码格式不正确\";\r\n                        }\r\n\r\n                    }, response => {\r\n                        // error\r\n                    });\r\n                }\r\n            },\r\n            setRemainTime: function () {\r\n                let _this = this;\r\n                if (_this.time == 0) {\r\n                    clearInterval(_this.interValObj);\r\n                    _this.getCodeBtnText = \"获取验证码\";\r\n                    _this.isGetingCodeIn = false;\r\n                    _this.isShowMessage = false;\r\n                    _this.time = 60;\r\n                } else {\r\n                    _this.time--;\r\n                    _this.getCodeBtnText = '重获验证码' + '(' + _this.time + ')';\r\n                    _this.isGetingCodeIn = true;\r\n                    _this.isShowMessage = true;\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style type=\"text/css\">\r\n    .validate_box {\r\n        padding: 20px 15px;\r\n        background: #fff;\r\n        height: 100%;\r\n    }\r\n\r\n    .validate_top {\r\n        margin-bottom: 32px;\r\n    }\r\n\r\n    .validate_top h1 {\r\n        font-size: 18px;\r\n        color: #ff9900;\r\n        margin-bottom: 18px;\r\n    }\r\n\r\n    .validate_top p {\r\n        font-size: 15px;\r\n        color: #878686;\r\n        text-align: center;\r\n    }\r\n\r\n    input {\r\n        height: 20px;\r\n        outline: none;\r\n        border: 0;\r\n        line-height: 20px;\r\n        margin-top: 12px;\r\n    }\r\n\r\n    #_phonebtn {\r\n        width: 110px;\r\n        height: 44px;\r\n        font-size: 12px;\r\n        float: right;\r\n        padding: 0;\r\n        text-align: center;\r\n    }\r\n\r\n    .input_phone {\r\n        font-size: 15px;\r\n        color: #333333;\r\n\r\n    }\r\n\r\n    .input_code {\r\n        font-size: 15px;\r\n        width: 100%;\r\n        color: #333333;\r\n    }\r\n\r\n    .validate_div {\r\n        height: 44px;\r\n        margin-bottom: 26px;\r\n        position: relative;\r\n    }\r\n\r\n    .validate_phone {\r\n        border: 1px solid #D2D2D2;\r\n        height: 44px;\r\n        border-radius: 5px;\r\n        padding-left: 15px;\r\n        padding-right: 7px;\r\n        float: left;\r\n        width: 180px;\r\n        overflow: hidden;\r\n\r\n    }\r\n\r\n    #_phonebtn {\r\n        float: right;\r\n        font-size: 14px;\r\n    }\r\n\r\n    .validate_code {\r\n        height: 44px;\r\n        border: 1px solid #d2d2d2;\r\n        border-radius: 5px;\r\n        margin-bottom: 44px;\r\n        padding-left: 15px;\r\n        position: relative;\r\n    }\r\n\r\n    #errorMobile, #errorCode {\r\n        font-size: 11px;\r\n        color: #fc0303;\r\n        position: absolute;\r\n        left: 15px;\r\n        top: 50px;\r\n     }\r\n\r\n    #message {\r\n        font-size: 11px;\r\n        color: #999999;\r\n        position: absolute;\r\n        top: 50px;\r\n        left: 15px;\r\n\r\n    }\r\n\r\n\r\n\r\n    input:-ms-input-placeholder {\r\n        color: rgba(0, 0, 0, 0.2);\r\n    }\r\n\r\n    input::-webkit-input-placeholder {\r\n        color: rgba(0, 0, 0, 0.2);\r\n    }\r\n\r\n    input::-moz-placeholder {\r\n        color: rgba(0, 0, 0, 0.2)\r\n    }\r\n\r\n    input:-moz-placeholder {\r\n        color: rgba(0, 0, 0, 0.2);\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// validate.vue?117dd3ab","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".validate_box{padding:20px 15px;background:#fff;height:100%}.validate_top{margin-bottom:32px}.validate_top h1{font-size:18px;color:#f90;margin-bottom:18px}.validate_top p{font-size:15px;color:#878686;text-align:center}input{height:20px;outline:none;border:0;line-height:20px;margin-top:12px}#_phonebtn{width:110px;height:44px;font-size:12px;padding:0;text-align:center}.input_code,.input_phone{font-size:15px;color:#333}.input_code{width:100%}.validate_div{height:44px;margin-bottom:26px;position:relative}.validate_phone{border:1px solid #d2d2d2;height:44px;border-radius:5px;padding-left:15px;padding-right:7px;float:left;width:180px;overflow:hidden}#_phonebtn{float:right;font-size:14px}.validate_code{height:44px;border:1px solid #d2d2d2;border-radius:5px;margin-bottom:44px;padding-left:15px;position:relative}#errorCode,#errorMobile{color:#fc0303}#errorCode,#errorMobile,#message{font-size:11px;position:absolute;left:15px;top:50px}#message{color:#999}input:-ms-input-placeholder{color:rgba(0,0,0,.2)}input::-webkit-input-placeholder{color:rgba(0,0,0,.2)}input:-moz-placeholder,input::-moz-placeholder{color:rgba(0,0,0,.2)}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-8b56c18a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/component/validate.vue\n// module id = 179\n// module chunks = 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"validate_box\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"validate_div\"\n  }, [_c('div', {\n    staticClass: \"validate_phone\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.mobile),\n      expression: \"mobile\"\n    }],\n    staticClass: \"input_phone\",\n    attrs: {\n      \"type\": \"tel\",\n      \"oninput\": \"if(value.length>11)value=value.slice(0,11)\",\n      \"placeholder\": \"请输入您的手机号\"\n    },\n    domProps: {\n      \"value\": (_vm.mobile)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.mobile = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), (!_vm.isMobileRight && _vm.isShowErrorMobileMsg) ? _c('p', {\n    attrs: {\n      \"id\": \"errorMobile\"\n    }\n  }, [_vm._v(\"手机格式错误\")]) : _vm._e()]), _vm._v(\" \"), _c('button', {\n    staticClass: \"weui-btn weui-btn_plain-primary \",\n    class: {\n      'weui-btn_plain-disabled': !_vm.isMobileRight || _vm.isGetingCodeIn\n    },\n    attrs: {\n      \"href\": \"javascript:;\",\n      \"id\": \"_phonebtn\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getCode()\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.getCodeBtnText) + \"\\n            \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"validate_code\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.code),\n      expression: \"code\"\n    }],\n    staticClass: \"input_code\",\n    attrs: {\n      \"type\": \"tel\",\n      \"placeholder\": \"请输入您收到的验证码\",\n      \"maxlength\": \"4\"\n    },\n    domProps: {\n      \"value\": (_vm.code)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.code = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), (_vm.isShowErrorCodeMsg) ? _c('p', {\n    attrs: {\n      \"id\": \"errorCode\"\n    }\n  }, [_vm._v(\"验证码错误\")]) : _vm._e(), _vm._v(\" \"), (_vm.isShowMessage) ? _c('p', {\n    attrs: {\n      \"id\": \"message\"\n    }\n  }, [_vm._v(_vm._s(_vm.message))]) : _vm._e()]), _vm._v(\" \"), _c('div', [_c('button', {\n    staticClass: \"weui-btn  weui-btn_primary\",\n    class: {\n      'weui-btn_disabled': !_vm.isAllInput\n    },\n    attrs: {\n      \"id\": \"sublim\",\n      \"href\": \"javascript:;\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit()\n      }\n    }\n  }, [_vm._v(\"确定\\n            \")])])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"validate_top\"\n  }, [_c('h1', [_vm._v(\"温馨提示\")]), _vm._v(\" \"), _c('p', [_vm._v(\"首次记录心情，必须通过手机验证哦！\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-8b56c18a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/component/validate.vue\n// module id = 195\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-8b56c18a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./validate.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"65abde90\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?minimize!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-8b56c18a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/component/validate.vue\n// module id = 201\n// module chunks = 4"],"sourceRoot":""}