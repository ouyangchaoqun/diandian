webpackJsonp([5],{137:function(t,e,i){i(585);var s=i(1)(i(280),i(517),null,null);t.exports=s.exports},146:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={data:function(){return{}}}},147:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,"",""])},148:function(t,e,i){i(150);var s=i(1)(i(146),i(149),null,null);t.exports=s.exports},149:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"weui-mask_transparent"}),t._v(" "),i("div",{staticClass:"weui-toast"},[i("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),i("p",{staticClass:"weui-toast__content"},[t._v("数据加载中")])])])}]}},150:function(t,e,i){var s=i(147);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i(2)("5de0c1c0",s,!0)},151:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(66);e.default={props:{offset:{type:Number,default:40},enableInfinite:{type:Boolean,default:!0},enableRefresh:{type:Boolean,default:!0},onRefresh:{type:Function,default:void 0,required:!1},onInfinite:{type:Function,default:void 0,require:!1},isPageEnd:!1,isShowMoreText:{type:Boolean,default:!0},isNotRefresh:!0,cutHeight:0},data:function(){return{top:0,state:0,startY:0,touching:!1,infiniteLoading:!1,height:"height:100px"}},mounted:function(){var t=this;t.cutHeight||(t.cutHeight=0),this.height="height:"+(document.body.clientHeight-t.cutHeight)+"px",this.loadMoreText(),s.a.$on("scrollMoreTextInit",function(e){t.isShowMoreText=e,t.loadMoreText()}),s.a.$on("scrollHeightInit",function(e){t.cutHeight=e,t.initHeight()})},methods:{initHeight:function(){this.height="height:"+(document.body.clientHeight-this.cutHeight)+"px"},touchStart:function(t){this.startY=t.targetTouches[0].pageY,this.startScroll=this.$el.scrollTop||0,this.touching=!0},touchMove:function(t){if(this.enableRefresh&&!(this.$el.scrollTop>0)&&this.touching){var e=t.targetTouches[0].pageY-this.startY-this.startScroll;e>0&&t.preventDefault(),this.top=Math.pow(e,.8)+(2===this.state?this.offset:0),2!==this.state&&(this.top>=this.offset?this.state=1:this.state=0)}},touchEnd:function(t){if(this.enableRefresh){if(this.touching=!1,2===this.state)return this.state=2,void(this.top=this.offset);this.top>=this.offset?this.refresh():(this.state=0,this.top=0),this.loadMoreText()}},refresh:function(){this.state=2,this.top=this.offset,this.isNotRefresh?this.refreshDone():this.onRefresh(this.refreshDone)},refreshDone:function(){this.state=0,this.top=0},loadMoreText:function(){console.log(this.isShowMoreText),this.isShowMoreText?this.isPageEnd?($(".load-more").hide(),$(".load-finish").show()):($(".load-finish").hide(),$(".load-more").show()):($(".load-more").hide(),$(".load-finish").hide())},infinite:function(){console.log("Loading"),this.infiniteLoading=!0,this.onInfinite(this.infiniteDone)},infiniteDone:function(){console.log("done"),this.infiniteLoading=!1},onScroll:function(t){if(this.enableInfinite&&!this.infiniteLoading){var e=this.$el.clientHeight;this.$el.querySelector(".inner").clientHeight-e-this.$el.scrollTop-(this.onRefresh?this.$el.querySelector(".pull-refresh").clientHeight:0)<this.$el.querySelector(".load-more").clientHeight&&this.infinite()}}}}},152:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,"body,html{height:100%}.yo-scroll{position:absolute;top:0;right:0;bottom:0;left:0;overflow:auto;-webkit-overflow-scrolling:touch;background:#f5f5f5}.yo-scroll .inner{position:absolute;top:-2rem;width:100%;transition-duration:.3s}.yo-scroll .pull-refresh{position:relative;left:0;top:0;width:100%;height:2rem;display:flex;align-items:center;justify-content:center}.yo-scroll.touch .inner{transition-duration:0ms}.yo-scroll.down .down-tip,.yo-scroll.refresh .refresh-tip,.yo-scroll.up .up-tip{display:block}.yo-scroll .down-tip,.yo-scroll .refresh-tip,.yo-scroll .up-tip{display:none}.yo-scroll .load-more{height:3rem;display:flex;align-items:center;justify-content:center;text-align:center}.yo-scroll .load-finish{height:2rem;text-align:center}.loadFont{font-size:12px;color:#999}",""])},153:function(t,e,i){i(155);var s=i(1)(i(151),i(154),null,null);t.exports=s.exports},154:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yo-scroll",class:{down:0===t.state,up:1==t.state,refresh:2===t.state,touch:t.touching},style:t.height,on:{touchstart:function(e){t.touchStart(e)},touchmove:function(e){t.touchMove(e)},touchend:function(e){t.touchEnd(e)},scroll:function(e){(t.onInfinite||t.infiniteLoading)&&t.onScroll(e)}}},[i("section",{staticClass:"inner",style:{transform:"translate3d(0, "+t.top+"px, 0)"}},[i("header",{staticClass:"pull-refresh"},[t._t("pull-refresh",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNotRefresh,expression:"!isNotRefresh"}]},[i("span",{staticClass:"down-tip loadFont"},[t._v("下拉更新")]),t._v(" "),i("span",{staticClass:"up-tip loadFont"},[t._v("松开更新")]),t._v(" "),i("span",{staticClass:"refresh-tip loadFont"},[t._v("更新中")])])])],2),t._v(" "),t._t("default"),t._v(" "),i("footer",{staticClass:"load-more"},[t._t("load-more",[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.infiniteLoading,expression:"!infiniteLoading"}],staticClass:"loadFont"},[t._v("上拉加载更多")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.infiniteLoading,expression:"infiniteLoading"}],staticClass:"loadFont"},[t._v("数据加载中..")])])],2),t._v(" "),i("footer",{staticClass:"load-finish",staticStyle:{display:"none"}},[t._t("load-finish",[i("span",{staticClass:"loadFont"},[t._v("已经加载完成")])])],2)],2)])},staticRenderFns:[]}},155:function(t,e,i){var s=i(152);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i(2)("18db66ab",s,!0)},180:function(t,e,i){t.exports=i.p+"close_loseBox.png"},184:function(t,e,i){t.exports=i.p+"night_lose.png"},198:function(t,e,i){t.exports=i.p+"iconjt.png"},204:function(t,e,i){t.exports=i.p+"morning_lose.png"},280:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(148),o=i.n(s),a=i(153),r=i.n(a),n=i(66);e.default={components:{"v-showLoad":o.a,"v-scroll":r.a},data:function(){return{canCareAll:!1,careAllIndex:0,isClickFace:!1,sleepNameShort:"早",sleepName:"早起",notice:{count:0},FIRST_PAGE_NUM:100,STEP_PAGE_NUM:20,myFirst:{rank:"",time:"--:--",notRecordTxt:"还未打卡"},rankLists:[],isNight:!1,continueDay:0,allDay:0,earlyPre:0,allCount:0,clock_careCount:0,sleepRank_title:"",swipersettime:null,showLoad:!1,date:"",counter:1,isPageEnd:!1,num:100,typeId:"",time:"",clockDay:"",clockMonth:"",clockYear:"",rankUrl:"",rankType:1,isLoading:!1,careUserId:0,isShowMoreText:!0,sleepId:"",userid:0,isGuest:!1,user:{},currUser:!1,isShowShareTip:!1,showBottomBtnType:0,showBottomBtnText:"",isLogin:!1,isLose:!1,MORNING_FROM_TIME:"5:00",MORNING_END_TIME:"10:00",NIGHT_FROM_TIME:"20:00",NIGHT_END_TIME:"23:59"}},beforeCreate:function(){console.log("beforeCreate")},mounted:function(){var t=this;this.typeId=this.$route.query.type,"true"===this.$route.query.checkin&&setTimeout(function(){xqzs.coin.addAminate(t.typeId)},200),this.initData(),this.$nextTick(function(){if("true"==cookie.get("record_lose")&&"true"==cookie.get("loseBox_frist")||"true"==cookie.get("record_lose_night")&&"true"==cookie.get("loseBox_frist_night")){this.initSleepConfig();var t=(new Date).getFullYear().toString(),e=(new Date).getMonth().toString(),i=(new Date).getDate().toString(),s=Math.round(new Date(t,e,i,23,59,0).getTime()/1e3),o=Math.round((new Date).getTime()/1e3),a=(s-o)/60/60/24;this.isLose=!0,cookie.set("record_lose","false",a),cookie.set("record_lose_night","false",a)}})},watch:{typeId:function(t){this.initData()}},methods:{set:function(){this.$router.push("/me/subscribe")},hideLoseBox:function(){this.isLose=!1},initSleepConfig:function(){var t=this;t.$http({method:"GET",type:"json",url:web.API_PATH+"record/sleep/get/is/record/_userId_"}).then(function(e){1==e.body.status&&(t.isGetUp=e.body.data.isGetUp,t.isGoBed=e.body.data.isGoBed,t.goBedId=e.body.data.goBedId,t.getUpId=e.body.data.getUpId,t.MORNING_FROM_TIME=e.body.data.getUpConfig.starttime,t.MORNING_END_TIME=e.body.data.getUpConfig.endtime,t.NIGHT_FROM_TIME=e.body.data.goBedConfig.starttime,t.NIGHT_END_TIME=e.body.data.goBedConfig.endtime)},function(t){})},tip:function(){this.$router.push("/me/subscribe")},initData:function(){var t=this;$(".rank_box").removeClass("goleft").removeClass("goright").removeClass("gomiddle"),$(".tabMove").removeClass("tab_goleft").removeClass("tab_goRight").removeClass("tab_goMiddle"),$(".clock_tab .clock_tabActive").removeClass("clock_tabActive"),$(".tabMove").addClass("tab_goleft"),$(".rank_box").addClass("goleft"),$(".clock_tab .tab_title:first-child").addClass("clock_tabActive"),t.canCareAll=!1,t.careAllIndex=0,t.isClickFace=!1,t.sleepNameShort="早",t.sleepName="早起",t.notice={count:0},t.FIRST_PAGE_NUM=100,t.STEP_PAGE_NUM=20,t.myFirst={rank:"",time:"--:--",notRecordTxt:"还未打卡"},t.rankLists=[],t.isNight=!1,t.continueDay=0,t.allDay=0,t.earlyPre=0,t.allCount=0,t.clock_careCount=0,t.sleepRank_title="",t.swipersettime=null,t.showLoad=!1,t.date="",t.counter=1,t.isPageEnd=!1,t.num=100,t.time="",t.clockDay="",t.clockMonth="",t.clockYear="",t.rankUrl="",t.rankType=1,t.isLoading=!1,t.careUserId=0,t.isShowMoreText=!0,t.sleepId="",t.userid=0,t.isGuest=!1,t.user={},t.currUser=!1,t.isShowShareTip=!1,t.showBottomBtnType=0,t.showBottomBtnText="",t.isLogin=!1,this.showLoad=!0,web.guest&&(t.isGuest=!0),"true"==xqzs.localdb.get("rank_click_head_face")&&(this.isClickFace=!0),t.careUserId=t.$route.query.careUserId,t.$route.query.userid&&(t.userid=t.$route.query.userid);var e="_userId_";t.userid&&(e=t.userid);var i=t.$route.query.year,s=t.$route.query.month,o=t.$route.query.date;t.time=new Date,t.clockDay=o||t.time.getDate(),t.clockMonth=s||t.time.getMonth()+1,t.clockYear=i||t.time.getFullYear();var a="";web.guest&&(a="?guest=true"),3==t.typeId&&(t.sleepName="早睡",t.sleepNameShort="晚"),3==t.typeId?(this.isNight=!0,this.sleepRank_title="早睡排行"):this.sleepRank_title="早起排行",$(".clock_tab .tab_title").on("click",function(){var e=this;switch($(".rank_box").removeClass("goleft").removeClass("goright").removeClass("gomiddle"),$(".tabMove").removeClass("tab_goleft").removeClass("tab_goRight").removeClass("tab_goMiddle"),$(".clock_tab .clock_tabActive").removeClass("clock_tabActive"),setTimeout(function(){$(e).addClass("clock_tabActive")},150),$(this).index()){case 0:$(".tabMove").addClass("tab_goleft"),$(".rank_box").addClass("goleft"),t.changeRankType(1);break;case 1:$(".tabMove").addClass("tab_goMiddle"),$(".rank_box").addClass("gomiddle"),t.changeRankType(2);break;case 2:$(".tabMove").addClass("tab_goRight"),$(".rank_box").addClass("goright"),t.changeRankType(3)}}),this.$http({method:"GET",type:"json",url:web.API_PATH+"user/find/by/user/Id/"+e+a}).then(function(e){var i=this;null!==e.data.data&&(t.user=e.data.data,t.$http.get(web.API_PATH+"user/get/qr/code/"+t.user.id+a).then(function(t){$("#output").empty(),t.body.data&&""!=t.body.data&&$("#output").qrcode({width:100,height:100,text:xqzs.string.toUtf8(t.body.data),background:"#ffffff",foreground:"red"})},function(t){}),t.$http.get(web.API_PATH+"sleep/daily/info/"+t.user.id+"/"+t.typeId+a).then(function(e){if(1===e.data.status){t.allDay=e.data.data.allDays,t.continueDay=e.data.data.continueDays,t.allCount=e.data.data.userNum;var s=new Date(1e3*e.data.data.time);e.data.data.time&&null!=e.data.data.time&&(t.date=s.getFullYear()+"年"+(s.getMonth()+1)+"月"+s.getDate()+"日，"),xqzs.wx.setConfig(i,function(){t.typeId,t.continueDay,t.date,e.data.data.rank,e.data.data.time;var i={imgUrl:t.user.faceUrl,title:"坚持早睡早起，遇见更好的自己",desc:"参与早睡早起打卡计划，培养自律，让生活更好一点！",link:web.BASE_PATH+"guest/#/sleepRank?type="+t.typeId+"&userid="+t.user.id};weshare.init(wx,i,function(){},function(){})})}})),t.getCurrUser()},function(e){t.getCurrUser()})},autoShare:function(){var t=this,e=t.typeId;if(""!=this.myFirst.rank&&2==e){var i=new Date,s=i.getFullYear(),o="auto_share_week_one_not_night_"+s+"_"+now_week+"_"+e,a=cookie.get(o);a&&1==a||(cookie.set(o,1,15),t.share())}},goDayRank:function(){3==this.typeId&&(this.typeId=2)},goNightRank:function(){2==this.typeId&&(this.typeId=3)},createinvite:function(){var t=this;t.showLoad=!0,this.$http({method:"GET",type:"json",url:web.API_PATH+"wei/xin/create/check/in/invite/card/_userId_/"+t.typeId}).then(function(e){1==e.body.status&&xqzs.weui.dialog({title:"邀请卡已经发送",msg:"前往公众号查看，邀请好友一起参加早起计划",submitText:"查看",submitFun:function(){try{WeixinJSBridge.call("closeWindow")}catch(t){}}}),t.showLoad=!1})},getCurrUser:function(){var t=this;this.$http({method:"GET",type:"json",url:web.API_PATH+"user/find/by/user/Id/_userId_"}).then(function(e){null!==e.data.data&&void 0!=e.data.data&&(t.currUser=e.data.data,t.isLogin=!0),25!=t.currUser.id&&27!=t.currUser.id&&1656!=t.currUser.id&&818!=t.currUser.id&&1658!=t.currUser.id&&424!=t.currUser.id&&1007!=t.currUser.id&&3696!=t.currUser.id&&30!=t.currUser.id&&32!=t.currUser.id||(t.canCareAll=!0),this.$http.get(web.API_PATH+"user/get/judge/relation/"+this.currUser.id+"/"+this.user.id).then(function(e){var i=!1;1==e.data.status&&1==e.data.data&&(i=!0);var s=0;web.guest&&(t.currUser&&t.user?s=t.currUser.id==t.user.id?0:i?1:3:t.currUser||(s=2)),t.showBottomBtnType=s;var o="早起";3==t.typeId&&(o="早睡"),1==s?t.showBottomBtnText="我的"+o+"计划":2==s?t.showBottomBtnText="我也加入"+o+"计划":3==s&&(t.showBottomBtnText="一起参与"+o+"计划")},function(t){}),t.getRankList()},function(e){t.getRankList()})},initCareImg:function(t,e){var i=!1;return this.isLogin?t.caremy&&t.caremy>0&&(i=!0):t.careCount&&t.careCount>0&&(i=!0),e&&t.careCount&&t.careCount>0&&this.user&&this.currUser&&this.user.id==this.currUser.id&&(i=!0),t.careImg=i?web.IMG_PATH+"/mood_icon_dianz_pre.png":web.IMG_PATH+"/mood_icon_dianz_nor.png",t},follow:function(){xqzs.weui.dialogCustom($("#follow").html());var t=document.getElementsByTagName("canvas")[0],e=xqzs.image.convertCanvasToImage(t);$(".ewm").html(""),$(".ewm").append(e)},followOrRecord:function(){var t=this;this.currUser&&void 0!=this.currUser&&null!=this.currUser&&this.currUser!={}?this.$http.get(web.API_PATH+"user/get/judge/relation/"+this.currUser.id+"/"+this.user.id).then(function(e){var i=!1;1==e.data.status&&1==e.data.data&&(i=!0),i?t.$router.push("/record"):t.follow()},function(e){t.follow()}):this.follow()},share:function(){this.isShowShareTip=!this.isShowShareTip},getNotice:function(t){var e=this;e.$http({method:"GET",type:"json",url:web.API_PATH+"sleep/query/new/notice/"+t+"/"+e.typeId+"/_userId_"}).then(function(t){1==t.data.status&&(e.notice=t.data.data)},function(t){})},changeRankType:function(t){var e=this;e.num=e.FIRST_PAGE_NUM,e.isPageEnd=!1,e.isShowMoreText=!0,e.counter=1,this.rankType=t,e.getRankList()},getRankList:function(){var t=this,e="_userId_";t.userid&&(e=t.userid);var i=web.API_PATH+"sleep/daily/relation/rank/page/"+t.typeId+"/"+e+"/"+t.num+"/"+t.clockDay+"/"+t.clockMonth+"/"+t.clockYear+"/"+t.counter,s=web.API_PATH+"sleep/daily/rank/page/"+t.typeId+"/"+e+"/"+t.num+"/"+t.clockDay+"/"+t.clockMonth+"/"+t.clockYear+"/"+t.counter,o=web.API_PATH+"sleep/daily/rank/page/comment/"+t.typeId+"/"+e+"/"+t.num+"/"+t.clockDay+"/"+t.clockMonth+"/"+t.clockYear+"/"+t.counter;switch(t.rankType){case 1:this.rankUrl=i;break;case 2:this.rankUrl=s;break;case 3:this.rankUrl=o}this.rankUrl=this.rankUrl+"?",web.guest&&(this.rankUrl=this.rankUrl+"guest=true"),t.currUser&&(this.rankUrl=this.rankUrl+"&visitorId="+t.currUser.id),console.log(t.isLoading),console.log(t.isPageEnd),t.isLoading||t.isPageEnd||(1==t.counter&&(t.showLoad=!0),t.isLoading=!0,t.$http.get(t.rankUrl).then(function(e){if(t.showLoad=!1,t.isLoading=!1,1==t.counter&&20001==e.data.status&&(t.rankLists=[]),20001!=e.data.status){e.data.data.userRank&&null!=e.data.data.userRank.content&&(e.data.data.userRank.content=xqzs.face.parseEmoji(e.data.data.userRank.content)),t.myFirst=e.data.data.userRank||t.myFirst,t.autoShare(),t.myFirst=t.initCareImg(t.myFirst,!0),void 0!=t.myFirst.id&&(t.getNotice(t.myFirst.id),t.sleepId=t.myFirst.id);var i=e.data.data.allRank;i.length<t.num&&(t.isPageEnd=!0,t.isShowMoreText=!1),n.a.$emit("scrollMoreTextInit",t.isShowMoreText);for(var s=0;s<i.length;s++)i[s]=t.initCareImg(i[s]),null!=i[s].content&&(i[s].content=xqzs.face.parseEmoji(i[s].content));if(1==t.counter?(t.rankLists=i,t.num=t.STEP_PAGE_NUM):t.rankLists=t.rankLists.concat(i),0!=i.length){if(0!=t.careUserId&&null!=t.careUserId&&void 0!=t.careUserId){for(var o=!1,a=0;a<t.rankLists.length;a++)if(t.rankLists[a].userId==parseInt(t.careUserId)){o=!0,t.rankLists[a].isMatch=!0,t.$set(t.rankLists,a,t.rankLists[a]);break}o?t.$nextTick(function(){var t=$(".isMatch").offset().top;$(".yo-scroll").animate({scrollTop:t-($(document).height()-$(".isMatch").height())+29},1e3)}):t.getRankList()}1==t.counter&&(t.counter=5),t.counter=t.counter+1}}},function(e){t.isLoading=!1,t.showLoad=!1}))},onInfinite:function(t){this.getRankList(),t()},addComment:function(t){var e=this;xqzs.mood.actionSheetEdit("取消","发送",function(i){e.$http.put(web.API_PATH+"sleep/reply/_userId_/"+t,{content:i}).then(function(t){1===t.data.status&&(e.myFirst.content=i,3==e.rankType&&(e.showLoad=!1,e.isPageEnd=!1,e.isLoading=!1,e.num=e.FIRST_PAGE_NUM,e.isShowMoreText=!0,e.counter=1,e.getRankList()))},function(t){})},function(t){},"最多35个字",35)},wxFaceUrl:function(t){return xqzs.mood.wxface(t)},goRecordCount:function(){1==web.guest||(xqzs.localdb.set("rank_click_head_face","true"),this.$router.push("/getUpStatistics?type="+this.typeId))},addCareAll:function(){var t=this,e=t.rankLists;if(parseInt(t.careAllIndex)>e.length-1)return"";t.addCare(e[t.careAllIndex],t.careAllIndex,!0)},addCare:function(t,e,i){var s=this;if(!s.currUser)return void s.follow();var o=s.rankLists;0==t.caremy||void 0==t.caremy?s.$http.put(web.API_PATH+"mood/care/add",{moodId:null,userId:null,type:t.type,withId:t.id}).then(function(t){1===t.data.status&&(o[e].careCount=t.data.data,o[e].caremy=1,o[e].hit=!0,o[e]=s.initCareImg(o[e]),s.$set(s.rankLists,e,o[e]),o[e].id==s.myFirst.id&&(s.myFirst.caremy=1,s.myFirst.hit=!0,s.myFirst=s.initCareImg(s.myFirst,!0),s.myFirst.careCount=t.data.data),i&&(s.careAllIndex=parseInt(s.careAllIndex)+1,s.addCareAll()))}):i&&(s.careAllIndex=parseInt(s.careAllIndex)+1,s.addCareAll()),o[e].caremy=1,o[e].hit=!0,o[e]=s.initCareImg(o[e]),s.$set(s.rankLists,e,o[e])},cutNickName:function(t){if(!t)return"";return t.length<=5?t:t.substr(0,5)+".."},fabulousList:function(){var t=this;this.user&&this.currUser&&this.user.id==this.currUser.id?this.$router.push("/fabulous?sleepId="+t.sleepId+"&type="+t.typeId):this.isGuest&&this.currUser&&(this.myFirst.type||(this.myFirst.type=this.typeId),t.addCare(this.myFirst))}}}},314:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,".addIcon_sleepRank{position:absolute;top:3rem;left:1rem}.addIcon_sleepRank img{width:.88235rem;display:inline-block}.addIcon_sleepRank span{color:#fa0;font-size:.76471rem;vertical-align:text-top;display:inline-block}.sleep_rank_box .record_loseBox{z-index:10001!important}.sleep_rank_box .record_loseBox .diglog_lose{width:17.647rem;height:17.647rem;position:absolute;top:20%;left:50%;margin-left:-8.8235rem;text-align:center;padding:0}.sleep_rank_box .morning_lose{background:url("+i(204)+") no-repeat;background-size:100% 100%;color:#333}.sleep_rank_box .night_lose{background:url("+i(184)+") no-repeat;background-size:100% 100%;color:#fff}.sleep_rank_box .title_lose{font-size:1.176471rem;line-height:1;width:100%;position:absolute;top:46%}.sleep_rank_box .record_time{font-size:.8235rem;line-height:1;position:absolute;width:100%;top:58%}.sleep_rank_box .diglog_lose p{font-size:.76471rem;text-align:left;line-height:1.35rem;padding:0 .88235rem}.sleep_rank_box .lose_bottom{width:66%;height:2.35rem;font-size:.88235rem;color:#fcfcf7;line-height:2.4rem;position:absolute;bottom:8%;left:50%;margin-left:-33%;border-radius:1.176471rem}.sleep_rank_box .morning_bottom{background:#fbb828}.sleep_rank_box .night_bottom{background:#443c61}.sleep_rank_box .morning_bottom:active{background:#d69c21}.sleep_rank_box .night_bottom:active{background:#37314f}.sleep_rank_box .close_btn{display:block;width:1.471rem;position:absolute;bottom:15%;left:50%;margin-left:-.7355rem}.day_or_night{position:absolute;display:flex;right:.88235rem;z-index:1000;top:2.35rem;transform:rotateY(0deg)}.day_or_night_rotate{transform:rotateY(180deg);transition:all 1s}.day_or_night img{display:block;width:2.1176471rem}.line32{line-height:2.35rem!important}.share:active{background:#ececec}.care_active:active{background:#f1f1f1}.clock_time.no_record{right:-10px}.join_rank{position:fixed;bottom:0;left:0;height:2.588235294117647rem;width:100%;display:block;line-height:2.588235294117647rem;background:#0bb20c;color:#fff;text-align:center;font-size:.88rem}.join_rank:active{background:#0b9c0c}.yo-scroll{background:none!important}.isMatch{background:#eee!important}.clock_rank{width:50%;float:left}.clock_box{height:100%;background:#e2f4fe}.clock_boxNight{background:#5f5975}.clock_top{padding:2.471rem .88235rem 0;position:relative;color:#666}.clock_top .share2{position:absolute;right:.9rem;top:2.48rem;width:3.6rem;height:1.6rem;line-height:1.6rem;background:#0bb20c;color:#fff;border-bottom-left-radius:.8rem;text-align:center;z-index:1000;font-size:.8rem}.clock_top .share2:active{background:#0b8d0c}.clock_topNight{color:#f4f4f7}.clock_count{background:url("+i(483)+") no-repeat;background-size:100% 100%;height:11.03rem;position:relative;box-shadow:0 5px 10px 0 rgba(51,51,51,.6)}.clock_countNight{background:url("+i(484)+") no-repeat;background-size:100% 100%;box-shadow:0 5px 10px 0 #333}.clock_head{width:3.53rem;height:3.53rem;border-radius:50%;overflow:hidden;position:absolute;top:.88235rem;left:50%;margin-left:-30px;box-shadow:0 2.5px 5px hsla(0,0%,9%,.38);z-index:1}.clock_head:active{opacity:.8}.clock_top .hot{height:10px;width:10px;background:red;border-radius:50%;position:absolute;left:50%;top:1.2rem;margin-left:1.2rem;z-index:10000}.clock_head img{width:3.53rem;height:3.53rem}.clock_lists{display:-webkit-box;display:flex;position:absolute;top:3.8235rem;width:100%;font-size:1.235rem;line-height:1.294rem}.clock_lists>div{-webkit-box-flex:1;flex:1;text-align:center}.clock_lists p{font-size:.8235rem;color:#807e7e;line-height:.88235rem;margin-bottom:1rem}.clock_lists>div,.clock_lists p,.clock_ratio{color:#fff}.clock_listsDay{font-size:.88235rem}.clock_listsNight p{color:#e9e9ec}.clock_ratio{width:100%;text-align:center;font-size:.7059rem;position:absolute;bottom:1.7647rem}.clock_tab{width:16rem;height:2rem;margin:0 auto;margin-top:1.1765rem;border-radius:1rem;text-align:center;font-size:.8235rem;line-height:2rem;border:1px solid #fff;color:#333}.clock_tab .tab_title{z-index:100;position:absolute;width:33.333%;height:2rem}.clock_tab .tab_title_right{left:66.6666%}.clock_tab .tab_title_middle{left:33.333%}.clock_tabNight>div{color:#fff}.tabMove{height:100%;width:33.333%;background:#fff;border-radius:1rem;position:absolute;left:33.333%;top:-1px;z-index:1;border:1px solid #fff;transition:transform .5s;-webkit-transition:transform .5s}.tab_goleft{transform:translate3d(-100%,0,0);-webkit-transform:translate3d(-100%,0,0)}.tab_goMiddle{transform:translateZ(0);-webkit-transform:translateZ(0)}.tab_goRight{transform:translate3d(100%,0,0);-webkit-transform:translate3d(100%,0,0)}.clock_tabNight .clock_tabActive{color:#333}.clock_box .rank_list:last-of-type{border-bottom:0}.clock_box .rank_list{background:#fff;display:flex;border-bottom:.06rem solid #eee;padding:.565rem 0;width:100%;position:relative;line-height:2.35rem}.has_content.rank_list{line-height:1.2rem}.rank_cup{width:1rem;font-family:PingFangSC-Regular;font-size:.94118rem;color:#666;text-align:center;height:.71rem;line-height:.71rem;margin:.88235rem .88235rem 0}.rank_cupNight{color:#333}.me_rank{margin-bottom:.88235rem}.rank_main{display:flex;width:76.4%;position:relative}.rank_NickName{font-size:.8235rem;color:#333}.addLy{font-size:.70588rem;color:#066ea4;display:inline}.continue_day span{color:#fa0}.addLy:active{background:#eee}.addMessage{font-size:.70588rem;color:#7c7b7b;width:13.5rem}.rank_main img.rank_headImg{height:40px!important;width:40px!important;display:block;border-radius:.294rem;margin-right:.88235rem}.clock_box .rank_right{position:absolute;right:0;top:0}.clock_time{font-size:.88235rem;color:#666;position:absolute;right:18px;top:0}.care_icon{padding:.8rem .88235rem .85rem 1.8rem}.clock_box .rank_right img{display:block;width:.9412rem;height:.88235rem}.clock_box .rank_right span{line-height:.7647rem;font-size:.7059rem;color:#999;display:block;text-align:center;margin-bottom:.2941rem}.rank_rightNight span{color:#ccc}.goleft{-webkit-transform:translateZ(0);transform:translateZ(0)}.goleft,.gomiddle{transition:transform .5s}.gomiddle{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}.goright{transition:transform .5s;-webkit-transform:translate3d(-66.666%,0,0);transform:translate3d(-66.666%,0,0)}.rank_Bgbox{width:100%;overflow:hidden;margin-bottom:.88235rem}.rank_Bgbox.box_padding_bottom{margin-bottom:2.88235rem}.rank_box{width:200%;margin-top:.88235rem}.rank1Color{color:#ffc800}.rank2Color{color:#c3c1c1}.rank3Color{color:#c27502}.ranks_boxl .notice_box{background:none;border-bottom:none}.sleep_rank_box .notice_box_p{padding:16px 0;padding-bottom:0}.notice{height:40px;width:180px;background:#393939;border-radius:5px;margin:0 auto}.notice:active{background:#1f1f1f}.notice_friend{height:32px;width:32px;float:left;margin-left:5px;margin-top:5px;display:block}.notice div{float:left;height:40px;line-height:40px;color:#fff;margin-left:32px;font-size:13px}.notice .goNotice{width:16px;height:16px;display:block;float:right;margin-right:14px;margin-top:12px}.notice img{height:30px;width:30px}.dialog_follow{width:66%;background:#fff;border-radius:10px;overflow:hidden;height:20.47058823529412rem;position:absolute;top:50%;margin-top:-10.23529411764706rem;left:17%;z-index:10001}.dialog_follow img{width:100%}.dialog_follow .img{height:11rem;overflow:hidden}.dialog_follow .text{text-align:center;font-size:.823529411764706rem;line-height:1.5}.ewm{width:4.329411764705882rem;height:4.329411764705882rem;border:1px solid #ffcdcd;margin:.8rem auto;margin-bottom:.65rem;padding:2px}.ewm .output,.myshare{width:100%;height:100%}.myshare{background:url("+i(470)+") no-repeat top rgba(0,0,0,.9);background-position:2.5rem 3.5rem;background-size:80%;position:fixed;top:0;left:0;z-index:10001}",""])},369:function(t,e,i){t.exports=i.p+"addIcon_sleepRank.png"},448:function(t,e,i){t.exports=i.p+"morning_rank_btn.png"},450:function(t,e,i){t.exports=i.p+"night_rank_btn.png"},470:function(t,e,i){t.exports=i.p+"share.png"},483:function(t,e,i){t.exports=i.p+"zaoqi.jpg"},484:function(t,e,i){t.exports=i.p+"zaoshui.jpg"},517:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clock_box sleep_rank_box",class:{clock_boxNight:t.isNight},staticStyle:{position:"relative"}},[s("div",{directives:[{name:"title",rawName:"v-title"}]},[t._v(t._s(t.sleepRank_title))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLose,expression:"isLose"}],staticClass:"record_loseBox weui-mask weui-animate-fade-in",on:{click:function(e){t.hideLoseBox()}}},[s("div",{staticClass:"diglog_lose",class:{morning_lose:!t.isNight,night_lose:t.isNight}},[s("div",{staticClass:"title_lose"},[t._v("错过打卡")]),t._v(" "),s("div",{staticClass:"record_time"},[t._v("\n                打卡时间："),t.isNight?t._e():[t._v(t._s(t.MORNING_FROM_TIME)+"-"+t._s(t.MORNING_END_TIME))],t._v(" "),t.isNight?[t._v(t._s(t.NIGHT_FROM_TIME)+"-"+t._s(t.NIGHT_END_TIME))]:t._e()],2),t._v(" "),s("div",{staticClass:"lose_bottom",class:{morning_bottom:!t.isNight,night_bottom:t.isNight},on:{click:function(e){t.set()}}},[t._v("\n                设置提醒\n            ")])]),t._v(" "),s("img",{staticClass:"close_btn",attrs:{src:i(180),alt:""}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowShareTip,expression:"isShowShareTip"}],staticClass:"myshare",on:{click:function(e){t.share()}}}),t._v(" "),s("v-scroll",{attrs:{"on-refresh":t.onRefresh,isNotRefresh:!0,"on-infinite":t.onInfinite,isPageEnd:t.isPageEnd,isShowMoreText:t.isShowMoreText}},[s("div",{staticClass:"day_or_night"},[t.isNight?s("div",{staticClass:"btn day_rank",on:{click:function(e){t.goDayRank()}}},[s("img",{attrs:{src:i(448),alt:""}})]):t._e(),t._v(" "),t.isNight?t._e():s("div",{staticClass:"btn night_rank",on:{click:function(e){t.goNightRank()}}},[s("img",{attrs:{src:i(450),alt:""}})])]),t._v(" "),s("div",{staticClass:"addIcon_sleepRank"},[s("img",{attrs:{src:i(369),alt:""}}),t._v(" "),s("span",[t._v(t._s(t.user.coinAmount))])]),t._v(" "),s("div",{staticClass:"ranks_boxl"},[t.showLoad?s("v-showLoad"):t._e(),t._v(" "),s("div",{staticClass:"clock_top",class:{clock_topNight:t.isNight}},[t.isClickFace||t.isGuest?t._e():s("div",{staticClass:"hot"}),t._v(" "),s("div",{staticClass:"share2",staticStyle:{display:"none"},on:{click:t.share}},[t._v("分享")]),t._v(" "),s("div",{staticClass:"clock_head"},[s("img",{attrs:{src:t.user.faceUrl,alt:""},on:{click:function(e){t.goRecordCount()}}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNight,expression:"!isNight"}],staticClass:"clock_count"},[s("div",{staticClass:"clock_lists"},[s("div",[s("p",[t._v("起床时间")]),t._v(" "),s("div",[t._v(t._s(t.myFirst.time))])]),t._v(" "),s("div",[s("p",[t._v("连续早起")]),t._v(" "),s("div",[t._v(t._s(t.continueDay)),s("span",{staticClass:"clock_listsDay"},[t._v("天")])])]),t._v(" "),s("div",[s("p",[t._v("累计早起")]),t._v(" "),s("div",[t._v(t._s(t.allDay)),s("span",{staticClass:"clock_listsDay"},[t._v("天")])])])]),t._v(" "),s("div",{staticClass:"clock_ratio"},[t._v(t._s(t.date)+"共有"+t._s(t.allCount)+"人陪我早起")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isNight,expression:"isNight"}],staticClass:"clock_count clock_countNight"},[s("div",{staticClass:"clock_lists clock_listsNight"},[s("div",[s("p",[t._v("睡觉时间")]),t._v(" "),s("div",[t._v(t._s(t.myFirst.time))])]),t._v(" "),s("div",[s("p",[t._v("连续早睡")]),t._v(" "),s("div",[t._v(t._s(t.continueDay)),s("span",{staticClass:"clock_listsDay"},[t._v("天")])])]),t._v(" "),s("div",[s("p",[t._v("累计早睡")]),t._v(" "),s("div",[t._v(t._s(t.allDay)),s("span",{staticClass:"clock_listsDay"},[t._v("天")])])])]),t._v(" "),s("div",{staticClass:"clock_ratio"},[t._v(t._s(t.date)+"共有"+t._s(t.allCount)+"人陪我早睡")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isGuest,expression:"!isGuest"}],staticClass:"clock_tab",class:{clock_tabNight:t.isNight},staticStyle:{position:"relative"}},[s("div",{staticClass:"tab_title clock_tabActive "},[t._v("好友排行")]),t._v(" "),s("div",{staticClass:"tab_title tab_title_middle"},[t._v("总排行")]),t._v(" "),s("div",{staticClass:"tab_title tab_title_right",on:{click:function(e){t.tip()}}},[t._v("设置提醒")]),t._v(" "),s("div",{staticClass:"tabMove"})]),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:t.user&&t.currUser&&t.user.id==t.currUser.id&&t.notice.count,expression:"user&&currUser&&user.id==currUser.id&&notice.count"}],staticClass:"weui-tabbar__item tab",staticStyle:{padding:"0"},on:{click:t.fabulousList}},[s("div",{staticClass:"notice_box notice_box_p"},[s("div",{staticClass:"notice"},[t.notice.count&&null!=t.notice.user?s("img",{staticClass:"notice_friend",attrs:{src:t.wxFaceUrl(t.notice.user.faceUrl)}}):t._e(),t._v(" "),s("div",[t._v(t._s(t.notice.count)+" 条新消息")]),t._v(" "),s("img",{staticClass:"goNotice",attrs:{src:i(198),alt:""}})])])]),t._v(" "),s("div",{staticClass:"rank_Bgbox",class:{box_padding_bottom:t.showBottomBtnType}},[s("div",{staticClass:"rank_box gomiddle"},t._l([1,2],function(e){return s("div",{staticClass:"clock_rank",class:"clock_rank"+e},[s("div",{staticClass:"rank_list me_rank",class:{rank_listNight:t.isNight,has_content:t.user&&t.currUser&&t.user.id==t.currUser.id&&""!=t.myFirst.rank||!(t.user&&t.currUser&&t.user.id==t.currUser.id)&&null!=t.myFirst.content&&""!=t.myFirst.content}},[s("span",{staticClass:"rank_cup",class:{rank_cupNight:t.isNight}},[3!=e?[t._v(t._s(t.myFirst.rank))]:t._e(),t._v(" "),3==e&&null!=t.myFirst.content&&""!=t.myFirst.content?[t._v(t._s(t.myFirst.rank))]:t._e()],2),t._v(" "),s("div",{staticClass:"rank_main"},[s("img",{staticClass:"rank_headImg",attrs:{src:t.wxFaceUrl(t.user.faceUrl),alt:""}}),t._v(" "),s("div",{staticClass:"rank_name"},[s("div",{staticClass:"rank_NickName",class:{line32:""==t.myFirst.rank}},[t._v(t._s(t.cutNickName(t.user.nickName)))]),t._v(" "),t.user&&t.currUser&&t.user.id==t.currUser.id&&(null==t.myFirst.content||""==t.myFirst.content)&&""!=t.myFirst.rank?s("div",{staticClass:"addLy",on:{click:function(e){t.addComment(t.myFirst.id)}}},[t._v("\n                                        互道"+t._s(t.sleepNameShort)+"安或留言\n                                    ")]):t._e(),t._v(" "),null!=t.myFirst.content&&""!=t.myFirst.content?s("div",{staticClass:"addMessage"},[t._v("\n                                        "+t._s(t.myFirst.content)+"\n                                    ")]):t._e(),t._v(" "),s("div")]),t._v(" "),""!=t.myFirst.rank?s("div",{staticClass:"clock_time",class:{no_record:null==t.myFirst.careCount}},[t._v(t._s(t.myFirst.time)+"\n                                ")]):t._e(),t._v(" "),""==t.myFirst.rank?s("div",{staticClass:"clock_time",class:{no_record:null==t.myFirst.careCount}},[t._v(t._s(t.myFirst.notRecordTxt)+"\n                                ")]):t._e()]),t._v(" "),s("div",{staticClass:"rank_right",class:{rank_rightNight:t.isNight}},[null!=t.myFirst.careCount?s("div",{staticClass:"care_icon",class:{care_active:t.user&&t.currUser&&t.user.id==t.currUser.id},on:{click:function(e){e.stopPropagation(),t.fabulousList()}}},[s("span",[t._v(t._s(t.myFirst.careCount||0))]),t._v(" "),s("img",{class:{heartUp:t.myFirst.hit},attrs:{src:t.myFirst.careImg,alt:""}})]):t._e()])]),t._v(" "),s("ul",t._l(t.rankLists,function(e,i){return s("li",{staticClass:"rank_list ",class:{rank_listNight:t.isNight,has_content:null!=e.content&&""!=e.content}},[s("span",{staticClass:"rank_cup",class:{rank_cupNight:t.isNight}},[t._v(t._s(i+1))]),t._v(" "),s("div",{staticClass:"rank_main rank_border",class:{rank_borderNight:t.isNight}},[s("img",{staticClass:"rank_headImg",attrs:{src:t.wxFaceUrl(e.faceUrl),alt:""}}),t._v(" "),s("div",{staticClass:"rank_name"},[s("div",{staticClass:"rank_NickName"},[t._v(t._s(t.cutNickName(e.nickName))),s("span",{staticClass:"continue_day addMessage",staticStyle:{"margin-left":"0.35rem"}},[t._v("+"),s("span",[t._v(t._s(e.totalDays))]),t._v("天")])]),t._v(" "),s("div",{staticClass:"addMessage"},[t._v(t._s(e.content))])]),t._v(" "),s("div",{staticClass:"clock_time"},[t._v(t._s(e.time))])]),t._v(" "),s("div",{staticClass:"rank_right",class:{rank_rightNight:t.isNight}},[s("div",{staticClass:"care_icon",on:{click:function(s){s.stopPropagation(),t.addCare(e,i)}}},[s("span",[t._v(t._s(e.careCount||0))]),t._v(" "),s("img",{class:{heartUp:e.hit},attrs:{src:e.careImg,alt:""}})])])])})),t._v(" "),t.canCareAll?s("a",{staticClass:"share",on:{click:function(e){t.addCareAll()}}},[t._v("关心所有人")]):t._e(),t._v(" "),1==e&&2==t.typeId?s("a",{staticClass:"share",on:{click:function(e){t.createinvite()}}},[t._v("点击生成好友邀请卡")]):t._e()])}))])],1)]),t._v(" "),s("div",{staticClass:"output",staticStyle:{display:"none"},attrs:{id:"output"}}),t._v(" "),s("div",{staticStyle:{display:"none"},attrs:{id:"follow"}},[s("div",{staticClass:"dialog_follow"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t.user.faceUrl}})]),t._v(" "),s("div",{staticClass:"ewm"}),t._v(" "),s("div",{staticClass:"text"},[t._v('\n                长按关注"'+t._s(t.user.nickName)+'"'),s("br"),t._v("\n                开启"+t._s(t.sleepName)+"健康生活\n            ")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showBottomBtnType,expression:"showBottomBtnType"}],staticClass:"join_rank",on:{click:t.followOrRecord}},[t._v(t._s(t.showBottomBtnText))])],1)},staticRenderFns:[]}},585:function(t,e,i){var s=i(314);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i(2)("74185e26",s,!0)}});
//# sourceMappingURL=5.build.js.map?5c7fdce1