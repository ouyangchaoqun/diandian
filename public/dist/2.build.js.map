{"version":3,"sources":["webpack:///2.build.js","webpack:///./src/component/friends.vue","webpack:///scroll.vue?dfb5","webpack:///./src/component/lib/scroll.vue?68de*","webpack:///./src/component/lib/scroll.vue?f517","webpack:///./src/component/lib/scroll.vue?ea21*","webpack:///./src/component/lib/scroll.vue?22c3*","webpack:///friends.vue","webpack:///./src/component/friends.vue?63b8","webpack:///./src/component/friends.vue?aa54","webpack:///./src/component/friends.vue?7ab5"],"names":["webpackJsonp","158","module","exports","__webpack_require__","Component","163","__webpack_exports__","Object","defineProperty","value","props","offset","type","Number","default","enableInfinite","Boolean","enableRefresh","onRefresh","Function","undefined","required","onInfinite","require","data","top","state","startY","touching","infiniteLoading","height","mounted","this","document","body","clientHeight","methods","touchStart","e","targetTouches","pageY","startScroll","$el","scrollTop","touchMove","diff","preventDefault","Math","pow","touchEnd","refresh","refreshDone","infinite","infiniteDone","onScroll","outerHeight","querySelector","164","push","i","165","166","render","_vm","_h","$createElement","_c","_self","staticClass","class","down","up","touch","style","on","touchstart","$event","touchmove","touchend","scroll","transform","_t","_v","staticStyle","display","staticRenderFns","167","content","locals","169","__WEBPACK_IMPORTED_MODULE_0__lib_scroll_vue__","__WEBPACK_IMPORTED_MODULE_0__lib_scroll_vue___default","n","__WEBPACK_IMPORTED_MODULE_1_weixin_js_sdk__","__WEBPACK_IMPORTED_MODULE_1_weixin_js_sdk___default","friends","template","counter","num","pageStart","pageEnd","listdata","downdata","user","getList","vm","$http","get","web","API_PATH","then","response","rows","xqzs","mood","initMoodsData","console","log","$nextTick","myResizePicture","$","done","_this2","arr","length","showBigImg","list","curr","current","bigUrl","$data","a","previewImage","urls","addCare","index","_this","userId","id","put","moodId","status","caremy","$set","commentOrDel","replyIndex","_delComment","addComment","weui","actionSheet","url","delete","replies","isDel","replycount","toast","catch","edithoder","fromuserid","from_nickName","actionSheetEdit","v","replyId","reply","touserid","to_nickName","showComment","$index","isShowComment","isAsk","care","hasComments","careList","commentList","method","eval","error","components","v-scroll","175","191","position","attrs","on-refresh","on-infinite","to","_l","item","key","src","randomFaceUrl","alt","unhappy_txt_color","moodValue","happy_txt_color","_s","moodValueText","pic","smallUrl","data-bigPic","data-w","picwidth","data-h","picheight","click","pics","_e","address","outTime","careCount","width","careImg","tomoodreplyid","197"],"mappings":"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","file":"2.build.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 158:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(197)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(169),\n  /* template */\n  __webpack_require__(191),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: {\n        offset: {\n            type: Number,\n            default: 40\n        },\n        enableInfinite: {\n            type: Boolean,\n            default: true\n        },\n        enableRefresh: {\n            type: Boolean,\n            default: true\n        },\n        onRefresh: {\n            type: Function,\n            default: undefined,\n            required: false\n        },\n        onInfinite: {\n            type: Function,\n            default: undefined,\n            require: false\n        }\n    },\n    data: function data() {\n        return {\n            top: 0,\n            state: 0,\n            startY: 0,\n            touching: false,\n            infiniteLoading: false,\n            height: \"height:100px\"\n        };\n    },\n\n    mounted: function mounted() {\n        this.height = \"height:\" + document.body.clientHeight + \"px\";\n    },\n    methods: {\n        touchStart: function touchStart(e) {\n            this.startY = e.targetTouches[0].pageY;\n            this.startScroll = this.$el.scrollTop || 0;\n            this.touching = true;\n        },\n        touchMove: function touchMove(e) {\n            if (!this.enableRefresh || this.$el.scrollTop > 0 || !this.touching) {\n                return;\n            }\n            var diff = e.targetTouches[0].pageY - this.startY - this.startScroll;\n            if (diff > 0) e.preventDefault();\n            this.top = Math.pow(diff, 0.8) + (this.state === 2 ? this.offset : 0);\n\n            if (this.state === 2) {\n                // in refreshing\n                return;\n            }\n            if (this.top >= this.offset) {\n                this.state = 1;\n            } else {\n                this.state = 0;\n            }\n        },\n        touchEnd: function touchEnd(e) {\n            if (!this.enableRefresh) return;\n            this.touching = false;\n            if (this.state === 2) {\n                // in refreshing\n                this.state = 2;\n                this.top = this.offset;\n                return;\n            }\n            if (this.top >= this.offset) {\n                // do refresh\n                this.refresh();\n            } else {\n                // cancel refresh\n                this.state = 0;\n                this.top = 0;\n            }\n        },\n        refresh: function refresh() {\n            this.state = 2;\n            this.top = this.offset;\n            this.onRefresh(this.refreshDone);\n        },\n        refreshDone: function refreshDone() {\n            this.state = 0;\n            this.top = 0;\n        },\n        infinite: function infinite() {\n            this.infiniteLoading = true;\n            this.onInfinite(this.infiniteDone);\n        },\n        infiniteDone: function infiniteDone() {\n            this.infiniteLoading = false;\n        },\n        onScroll: function onScroll(e) {\n            if (!this.enableInfinite || this.infiniteLoading) {\n                return;\n            }\n            var outerHeight = this.$el.clientHeight;\n            var innerHeight = this.$el.querySelector('.inner').clientHeight;\n            var scrollTop = this.$el.scrollTop;\n            var ptrHeight = this.onRefresh ? this.$el.querySelector('.pull-refresh').clientHeight : 0;\n            var infiniteHeight = this.$el.querySelector('.load-more').clientHeight;\n            var bottom = innerHeight - outerHeight - scrollTop - ptrHeight;\n            if (bottom < infiniteHeight) this.infinite();\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)();\n// imports\n\n\n// module\nexports.push([module.i, \".yo-scroll{position:absolute;top:0;right:0;bottom:0;left:0;overflow:auto;-webkit-overflow-scrolling:touch}.yo-scroll .inner{position:absolute;top:-2rem;width:100%;transition-duration:.3s}.yo-scroll .pull-refresh{position:relative;left:0;top:0;width:100%;height:2rem;display:flex;align-items:center;justify-content:center}.yo-scroll.touch .inner{transition-duration:0ms}.yo-scroll.down .down-tip,.yo-scroll.refresh .refresh-tip,.yo-scroll.up .up-tip{display:block}.yo-scroll .down-tip,.yo-scroll .refresh-tip,.yo-scroll .up-tip{display:none}.yo-scroll .load-more{height:3rem;display:flex;align-items:center;justify-content:center}.yo-scroll .load-finish{height:2rem;text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(167)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(163),\n  /* template */\n  __webpack_require__(166),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"yo-scroll\",\n    class: {\n      'down': (_vm.state === 0), 'up': (_vm.state == 1), refresh: (_vm.state === 2), touch: _vm.touching\n    },\n    style: (_vm.height),\n    on: {\n      \"touchstart\": function($event) {\n        _vm.touchStart($event)\n      },\n      \"touchmove\": function($event) {\n        _vm.touchMove($event)\n      },\n      \"touchend\": function($event) {\n        _vm.touchEnd($event)\n      },\n      \"scroll\": function($event) {\n        (_vm.onInfinite || _vm.infiniteLoading) ? _vm.onScroll($event): undefined\n      }\n    }\n  }, [_c('section', {\n    staticClass: \"inner\",\n    style: ({\n      transform: 'translate3d(0, ' + _vm.top + 'px, 0)'\n    })\n  }, [_c('header', {\n    staticClass: \"pull-refresh\"\n  }, [_vm._t(\"pull-refresh\", [_c('span', {\n    staticClass: \"down-tip\"\n  }, [_vm._v(\"下拉更新\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"up-tip\"\n  }, [_vm._v(\"松开更新\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"refresh-tip\"\n  }, [_vm._v(\"更新中\")])])], 2), _vm._v(\" \"), _vm._t(\"default\"), _vm._v(\" \"), _c('footer', {\n    staticClass: \"load-more\"\n  }, [_vm._t(\"load-more\", [_c('span', [_vm._v(\"下拉加载更多\")])])], 2), _vm._v(\" \"), _c('footer', {\n    staticClass: \"load-finish\",\n    staticStyle: {\n      \"display\": \"none\"\n    }\n  }, [_vm._t(\"load-finish\", [_c('span', [_vm._v(\"已经加载完成\")])])], 2)], 2)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(164);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"18db66ab\", content, true);\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_scroll_vue__ = __webpack_require__(165);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_scroll_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__lib_scroll_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_weixin_js_sdk__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_weixin_js_sdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_weixin_js_sdk__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\nvar friends = {\n    template: '#friends'\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            counter: 1, //默认已经显示出15条数据 count等于一是让从16条开始加载\n            num: 10, // 一次显示多少条\n            pageStart: 0, // 开始页数\n            pageEnd: 0, // 结束页数\n            listdata: [], // 下拉更新数据存放数组\n            downdata: [], // 上拉更多的数据存放数组\n            user: {}\n        };\n    },\n\n    methods: {\n        getList: function getList() {\n            var vm = this;\n            vm.$http.get(web.API_PATH + 'mood/query/friend/page/[userId]/' + 1 + \"/\" + vm.num).then(function (response) {\n                vm.downdata = response.data.data.rows;\n                vm.downdata = xqzs.mood.initMoodsData(vm.downdata);\n                console.log(vm.downdata);\n                vm.$nextTick(function () {\n                    myResizePicture($(\".friends_mood\"), \"friendImgList\", \"li\"); //渲染完成\n                });\n            }, function (response) {\n                console.log('error');\n            });\n        },\n        onRefresh: function onRefresh(done) {\n            this.getList();\n            done(); // call done\n        },\n        onInfinite: function onInfinite(done) {\n            var _this2 = this;\n\n            var vm = this;\n            vm.$http.get(web.API_PATH + 'mood/query/friend/page/[userId]/' + (vm.counter + 1) + \"/\" + vm.num).then(function (response) {\n                vm.counter++;\n                vm.pageEnd = vm.num * vm.counter;\n                vm.pageStart = vm.pageEnd - vm.num;\n                var arr = response.data.data.rows;\n                var i = 0;\n                var end = vm.pageEnd;\n                arr = xqzs.mood.initMoodsData(arr);\n                for (; i < arr.length; i++) {\n                    vm.downdata.push(arr[i]);\n                }\n                vm.$nextTick(function () {\n                    myResizePicture($(\".friends_mood\"), \"friendImgList\", \"li\"); //渲染完成\n                });\n                if (arr.length === 0) {\n                    _this2.$el.querySelector('.load-more').style.display = 'none';\n                    _this2.$el.querySelector('.load-finish').style.display = 'block';\n                    return;\n                }\n\n                done(); // call done\n            }, function (response) {\n                console.log('error');\n            });\n        },\n\n        showBigImg: function showBigImg(list, curr) {\n\n            var current = curr.bigUrl;\n            var $data = [];\n            for (var i = 0; i < list.length; i++) {\n                $data.push(list[i].bigUrl);\n            }\n\n            __WEBPACK_IMPORTED_MODULE_1_weixin_js_sdk___default.a.previewImage({\n                current: current, // 当前显示图片的http链接\n                urls: $data // 需要预览的图片http链接列表\n            });\n        },\n        addCare: function addCare(mood, index) {\n            var _this = this;\n            if (mood.userId !== _this.user.id) {\n                _this.$http.put(web.API_PATH + 'mood/care/add', { \"moodId\": mood.id, \"userId\": null }).then(function (response) {\n                    if (response.data.status === 1) {\n\n                        _this.downdata[index].caremy = _this.user.id;\n                        _this.$set(_this.downdata, index, _this.downdata[index]);\n                        _this.downdata = xqzs.mood.initMoodsData(_this.downdata);\n                        console.log(_this.downdata);\n                    }\n                });\n            }\n        },\n        commentOrDel: function commentOrDel(userId, id, index, replyIndex) {\n            var vm = this;\n            if (userId === vm.user.id) {\n                vm._delComment(id, index, replyIndex);\n            } else {\n                vm.addComment(id, index, replyIndex);\n            }\n        },\n        _delComment: function _delComment(id, index, replyIndex) {\n            var vm = this;\n            xqzs.weui.actionSheet(\"删除我的评论?\", \"删除\", function () {\n                ///删除操作\n                var url = web.API_PATH + \"mood/reply/[userId]/\" + id;\n                vm.$http.delete(url).then(function (data) {\n                    if (data.data.status === 1) {\n                        vm.downdata[index].replies[replyIndex].isDel = true;\n                        vm.downdata[index].replycount = vm.downdata[index].replycount - 1;\n                        vm.$set(vm.downdata, index, vm.downdata[index]);\n                    } else {\n                        xqzs.weui.toast(\"fail\", \"删除失败\", function () {});\n                    }\n                }).catch(function (response) {});\n            }, function () {\n                //取消\n            });\n        },\n        addComment: function addComment(id, index, replyIndex) {\n            var vm = this;\n\n            var edithoder = \"\";\n            if (replyIndex !== undefined && replyIndex) {\n\n                if (vm.downdata[index].replies[replyIndex].fromuserid === vm.downdata[index].userId) {\n                    edithoder = \"作者\";\n                } else {\n                    edithoder = vm.downdata[index].replies[replyIndex].from_nickName;\n                }\n            }\n            xqzs.mood.actionSheetEdit(\"取消\", \"发送\", function (v) {\n                vm.$http.put(web.API_PATH + 'mood/reply/add', { \"moodId\": vm.downdata[index].id, \"userId\": null, \"replyId\": id, \"content\": v }).then(function (response) {\n                    if (response.data.status === 1) {\n                        xqzs.weui.toast(\"success\", \"提交成功\", function () {});\n\n                        if (response.data.data.reply.touserid === vm.downdata[index].userId) {\n                            response.data.data.reply.to_nickName = \"作者\";\n                        }\n                        vm.downdata[index].replycount = response.data.data.mood.replycount;\n                        vm.downdata[index].replies.push(response.data.data.reply);\n                        vm.$set(vm.downdata, index, vm.downdata[index]);\n                    }\n                }, function (response) {\n                    // error\n                });\n                console.log(v);\n            }, function (v) {\n                console.log(v);\n                //取消\n            }, \"回复 \" + edithoder);\n        },\n\n        showComment: function showComment(id, $index) {\n            var vm = this;\n            if (vm.downdata[$index].isShowComment) {\n                vm.downdata[$index].isShowComment = false;\n                vm.$set(vm.downdata, $index, vm.downdata[$index]);\n            } else {\n                if (vm.downdata[$index].isAsk !== true) {\n\n                    vm.$http.get(web.API_PATH + 'mood/care/query/comment/' + id).then(function (data) {\n                        vm.downdata[$index].isAsk = true;\n\n                        if (data.data.status === 1) {\n\n                            if (data.data.data.care.length > 0 || data.data.data.reply.length > 0) {\n                                vm.downdata[$index].hasComments = true;\n\n                                vm.downdata[$index].careList = data.data.data.care;\n                                vm.downdata[$index].commentList = data.data.data.reply;\n                                vm.downdata[$index].isShowComment = true;\n                            }\n                        }\n                        console.log(data.data.data);\n                        vm.$set(vm.downdata, $index, vm.downdata[$index]);\n                    }, function (response) {\n                        console.log('error');\n                    });\n                }\n                vm.downdata[$index].isShowComment = true;\n                vm.$set(vm.downdata, $index, vm.downdata[$index]);\n            }\n        }\n\n    },\n    mounted: function mounted() {\n        var _this = this;\n        this.getList();\n        this.$http({\n            method: 'GET',\n            type: \"json\",\n            url: web.API_PATH + 'user/find/by/user/Id/[userId]'\n        }).then(function (data) {\n            //es5写法\n            if (data.data.data !== null) {\n                _this.user = eval(data.data.data);\n            }\n        }, function (error) {\n            //error\n        });\n    },\n    components: {\n        'v-scroll': __WEBPACK_IMPORTED_MODULE_0__lib_scroll_vue___default.a\n    }\n});\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)();\n// imports\n\n\n// module\nexports.push([module.i, \".friend_header{border-bottom:1px solid #eee;background:#fff;padding:10px 0}.friend_header a{width:90%;height:24px;line-height:24px;text-align:center;background:#eee;margin:0 auto;font-size:12px;border:1px solid #eee;border-radius:5px;color:#999;display:block}.friends_mood{margin-top:1px;background:#fff;padding:10px 20px 10px 10px}.friendHeaderImg{width:40px;height:40px;display:block;border-radius:3px;float:left}.friendState{margin-left:55px}.mood_state{display:block}.mood_state,.mood_text{font-size:15px;margin-bottom:10px}.mood_text{color:#333}.stateBottom{height:30px;font-size:12px}.time{font-size:12px;color:#999;float:left;line-height:30px}.time_right{color:#999;float:right}.friendsLoc{font-size:12px;color:#516591}.time_right img{float:left}.frined_zan{float:left;margin-right:3px}.frined_com{float:left;margin-right:5px}.time_rightimg1{width:22px;margin-top:-3px;margin-right:10px}.time_rightimg2{margin-top:2px;width:18px}.friendImgList{overflow:hidden;margin-bottom:15px}.friendImgList.two li{width:7.5rem;height:6rem}.friendImgList.one li{width:10.7rem;height:8.1rem}.friendImgList li{float:left;margin-right:.3125rem;width:4.8675rem;height:4.8675rem;overflow:hidden;position:relative}.commont_box{padding-top:10px;background:#f9f9f9;border-radius:5px;position:relative;margin-top:10px;padding-bottom:15px;padding-left:10px}.arrow{width:15px;height:15px;background:#f9f9f9;position:absolute;left:20px;top:-6px;transform:rotate(45deg)}.friend_commont{margin-bottom:6px;font-size:13px}.name{font-size:14px;color:#669}.commont{font-size:14px;color:#333}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_c('v-scroll', {\n    attrs: {\n      \"on-refresh\": _vm.onRefresh,\n      \"on-infinite\": _vm.onInfinite\n    }\n  }, [_c('div', {\n    staticClass: \"friends_box\"\n  }, [_c('div', {\n    staticClass: \"friend_header\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"/me/friendsCount\"\n    }\n  }, [_vm._v(\"以下是我关注的朋友，猜猜TA是谁？\")])], 1), _vm._v(\" \"), _vm._l((_vm.downdata), function(item, index) {\n    return _c('div', {\n      key: index,\n      staticClass: \"friends_mood\"\n    }, [_c('img', {\n      staticClass: \"friendHeaderImg\",\n      attrs: {\n        \"src\": item.randomFaceUrl,\n        \"alt\": \"\"\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"friendState\"\n    }, [_c('span', {\n      staticClass: \"mood_state\",\n      class: {\n        'unhappy_txt_color': item.moodValue <= 4, 'happy_txt_color': item.moodValue > 4\n      }\n    }, [_vm._v(_vm._s(item.moodValueText))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"mood_text\"\n    }, [_vm._v(_vm._s(item.content))]), _vm._v(\" \"), (item.haspicture) ? _c('ul', {\n      staticClass: \"friendImgList\"\n    }, _vm._l((item.pics), function(pic) {\n      return _c('li', [_c('img', {\n        style: (pic.styleObject),\n        attrs: {\n          \"src\": pic.smallUrl,\n          \"data-bigPic\": pic.bigUrl,\n          \"data-w\": pic.picwidth,\n          \"data-h\": pic.picheight\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.showBigImg(item.pics, pic)\n          }\n        }\n      })])\n    })) : _vm._e(), _vm._v(\" \"), _c('div', {\n      staticClass: \"friendsLoc\"\n    }, [_vm._v(_vm._s(item.address))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"stateBottom\"\n    }, [_c('div', {\n      staticClass: \"time\"\n    }, [_vm._v(_vm._s(item.outTime))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"time_right\"\n    }, [_c('span', {\n      staticClass: \"frined_zan\"\n    }, [_vm._v(_vm._s(item.careCount))]), _vm._v(\" \"), _c('img', {\n      staticClass: \"time_rightimg1\",\n      staticStyle: {\n        \"width\": \"26px\"\n      },\n      attrs: {\n        \"src\": item.careImg,\n        \"alt\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.addCare(item, index)\n        }\n      }\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"frined_com\"\n    }, [_vm._v(_vm._s(item.replycount))]), _vm._v(\" \"), _c('img', {\n      staticClass: \"time_rightimg2\",\n      staticStyle: {\n        \"width\": \"20px\"\n      },\n      attrs: {\n        \"src\": __webpack_require__(12),\n        \"alt\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.addComment(item.id, index)\n        }\n      }\n    })])]), _vm._v(\" \"), (item.replies.length > 0) ? _c('div', {\n      staticClass: \"commont_box\"\n    }, [_c('div', {\n      staticClass: \"arrow\"\n    }), _vm._v(\" \"), _vm._l((item.replies), function(reply, replyIndex) {\n      return (!reply.isDel) ? _c('div', {\n        key: replyIndex,\n        staticClass: \"friend_commont\",\n        on: {\n          \"click\": function($event) {\n            _vm.commentOrDel(reply.fromuserid, reply.id, index, replyIndex)\n          }\n        }\n      }, [(reply.tomoodreplyid == 0 || reply.tomoodreplyid == null) ? _c('span', {\n        staticClass: \"name\"\n      }, [(reply.fromuserid == item.userId) ? [_vm._v(\"作者\")] : _vm._e(), _vm._v(\" \"), (reply.fromuserid != item.userId) ? [_vm._v(_vm._s(reply.from_nickName))] : _vm._e(), _vm._v(\"\\n                                :\")], 2) : _vm._e(), _vm._v(\" \"), (reply.tomoodreplyid != 0 && reply.tomoodreplyid != null) ? [_c('span', {\n        staticClass: \"name\"\n      }, [(reply.fromuserid == item.userId) ? [_vm._v(\"作者\")] : _vm._e(), _vm._v(\" \"), (reply.fromuserid != item.userId) ? [_vm._v(_vm._s(reply.from_nickName))] : _vm._e()], 2), _vm._v(\" 回复 \"), _c('span', {\n        staticClass: \"name\"\n      }, [_vm._v(_vm._s(reply.to_nickName) + \":\")])] : _vm._e(), _vm._v(\" \"), _c('span', {\n        staticClass: \"commont\"\n      }, [_vm._v(_vm._s(reply.content))])], 2) : _vm._e()\n    })], 2) : _vm._e()])])\n  })], 2)])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(175);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"785ee0ba\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 2.build.js","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-37e95500\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./friends.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./friends.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37e95500\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./friends.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/friends.vue\n// module id = 158\n// module chunks = 2","<template lang=\"html\">\r\n    <div class=\"yo-scroll\" :style=\"height\"\r\n         :class=\"{'down':(state===0),'up':(state==1),refresh:(state===2),touch:touching}\"\r\n         @touchstart=\"touchStart($event)\"\r\n         @touchmove=\"touchMove($event)\"\r\n         @touchend=\"touchEnd($event)\"\r\n         @scroll=\"(onInfinite || infiniteLoading) ? onScroll($event) : undefined\">\r\n        <section class=\"inner\" :style=\"{ transform: 'translate3d(0, ' + top + 'px, 0)' }\">\r\n            <header class=\"pull-refresh\">\r\n                <slot name=\"pull-refresh\">\r\n                    <span class=\"down-tip\">下拉更新</span>\r\n                    <span class=\"up-tip\">松开更新</span>\r\n                    <span class=\"refresh-tip\">更新中</span>\r\n                </slot>\r\n            </header>\r\n            <slot></slot>\r\n            <footer class=\"load-more\">\r\n                <slot name=\"load-more\">\r\n                    <span>下拉加载更多</span>\r\n                </slot>\r\n            </footer>\r\n            <footer class=\"load-finish\" style=\"display: none\">\r\n                <slot name=\"load-finish\">\r\n                    <span>已经加载完成</span>\r\n                </slot>\r\n            </footer>\r\n\r\n\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script type=\"es6\">\r\n    export default {\r\n        props: {\r\n            offset: {\r\n                type: Number,\r\n                default: 40\r\n            },\r\n            enableInfinite: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            enableRefresh: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            onRefresh: {\r\n                type: Function,\r\n                default: undefined,\r\n                required: false\r\n            },\r\n            onInfinite: {\r\n                type: Function,\r\n                default: undefined,\r\n                require: false\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                top: 0,\r\n                state: 0,\r\n                startY: 0,\r\n                touching: false,\r\n                infiniteLoading: false,\r\n                height:\"height:100px\"\r\n            }\r\n        },\r\n        mounted:function () {\r\n             this.height=\"height:\"+(document.body.clientHeight)+\"px\"\r\n\r\n        },\r\n        methods: {\r\n            touchStart(e) {\r\n                this.startY = e.targetTouches[0].pageY\r\n                this.startScroll = this.$el.scrollTop || 0\r\n                this.touching = true\r\n            },\r\n            touchMove(e) {\r\n                if (!this.enableRefresh || this.$el.scrollTop > 0 || !this.touching) {\r\n                    return\r\n                }\r\n                let diff = e.targetTouches[0].pageY - this.startY - this.startScroll\r\n                if (diff > 0) e.preventDefault()\r\n                this.top = Math.pow(diff, 0.8) + (this.state === 2 ? this.offset : 0)\r\n\r\n                if (this.state === 2) { // in refreshing\r\n                    return\r\n                }\r\n                if (this.top >= this.offset) {\r\n                    this.state = 1\r\n                } else {\r\n                    this.state = 0\r\n                }\r\n            },\r\n            touchEnd(e) {\r\n                if (!this.enableRefresh) return\r\n                this.touching = false\r\n                if (this.state === 2) { // in refreshing\r\n                    this.state = 2\r\n                    this.top = this.offset\r\n                    return\r\n                }\r\n                if (this.top >= this.offset) { // do refresh\r\n                    this.refresh()\r\n                } else { // cancel refresh\r\n                    this.state = 0\r\n                    this.top = 0\r\n                }\r\n            },\r\n            refresh() {\r\n                this.state = 2\r\n                this.top = this.offset\r\n                this.onRefresh(this.refreshDone)\r\n            },\r\n            refreshDone() {\r\n                this.state = 0\r\n                this.top = 0\r\n            },\r\n\r\n            infinite() {\r\n                this.infiniteLoading = true\r\n                this.onInfinite(this.infiniteDone)\r\n            },\r\n\r\n            infiniteDone() {\r\n                this.infiniteLoading = false\r\n            },\r\n\r\n            onScroll(e) {\r\n                if (!this.enableInfinite || this.infiniteLoading) {\r\n                    return\r\n                }\r\n                let outerHeight = this.$el.clientHeight\r\n                let innerHeight = this.$el.querySelector('.inner').clientHeight\r\n                let scrollTop = this.$el.scrollTop\r\n                let ptrHeight = this.onRefresh ? this.$el.querySelector('.pull-refresh').clientHeight : 0\r\n                let infiniteHeight = this.$el.querySelector('.load-more').clientHeight\r\n                let bottom = innerHeight - outerHeight - scrollTop - ptrHeight\r\n                if (bottom < infiniteHeight) this.infinite()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .yo-scroll {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        overflow: auto;\r\n        -webkit-overflow-scrolling: touch;\r\n\r\n    }\r\n    .yo-scroll .inner {\r\n        position: absolute;\r\n        top: -2rem;\r\n        width: 100%;\r\n        transition-duration: 300ms;\r\n    }\r\n    .yo-scroll .pull-refresh {\r\n        position: relative;\r\n        left: 0;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 2rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    .yo-scroll.touch .inner {\r\n        transition-duration: 0ms;\r\n    }\r\n    .yo-scroll.down .down-tip {\r\n        display: block;\r\n    }\r\n    .yo-scroll.up .up-tip {\r\n        display: block;\r\n    }\r\n    .yo-scroll.refresh .refresh-tip {\r\n        display: block;\r\n    }\r\n    .yo-scroll .down-tip,\r\n    .yo-scroll .refresh-tip,\r\n    .yo-scroll .up-tip {\r\n        display: none;\r\n    }\r\n    .yo-scroll .load-more {\r\n        height: 3rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    .yo-scroll .load-finish {\r\n        height: 2rem;\r\n      text-align: center;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// scroll.vue?299fead8","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".yo-scroll{position:absolute;top:0;right:0;bottom:0;left:0;overflow:auto;-webkit-overflow-scrolling:touch}.yo-scroll .inner{position:absolute;top:-2rem;width:100%;transition-duration:.3s}.yo-scroll .pull-refresh{position:relative;left:0;top:0;width:100%;height:2rem;display:flex;align-items:center;justify-content:center}.yo-scroll.touch .inner{transition-duration:0ms}.yo-scroll.down .down-tip,.yo-scroll.refresh .refresh-tip,.yo-scroll.up .up-tip{display:block}.yo-scroll .down-tip,.yo-scroll .refresh-tip,.yo-scroll .up-tip{display:none}.yo-scroll .load-more{height:3rem;display:flex;align-items:center;justify-content:center}.yo-scroll .load-finish{height:2rem;text-align:center}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-338923fc\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/component/lib/scroll.vue\n// module id = 164\n// module chunks = 1 2","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-338923fc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./scroll.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./scroll.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-338923fc\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./scroll.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/lib/scroll.vue\n// module id = 165\n// module chunks = 1 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"yo-scroll\",\n    class: {\n      'down': (_vm.state === 0), 'up': (_vm.state == 1), refresh: (_vm.state === 2), touch: _vm.touching\n    },\n    style: (_vm.height),\n    on: {\n      \"touchstart\": function($event) {\n        _vm.touchStart($event)\n      },\n      \"touchmove\": function($event) {\n        _vm.touchMove($event)\n      },\n      \"touchend\": function($event) {\n        _vm.touchEnd($event)\n      },\n      \"scroll\": function($event) {\n        (_vm.onInfinite || _vm.infiniteLoading) ? _vm.onScroll($event): undefined\n      }\n    }\n  }, [_c('section', {\n    staticClass: \"inner\",\n    style: ({\n      transform: 'translate3d(0, ' + _vm.top + 'px, 0)'\n    })\n  }, [_c('header', {\n    staticClass: \"pull-refresh\"\n  }, [_vm._t(\"pull-refresh\", [_c('span', {\n    staticClass: \"down-tip\"\n  }, [_vm._v(\"下拉更新\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"up-tip\"\n  }, [_vm._v(\"松开更新\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"refresh-tip\"\n  }, [_vm._v(\"更新中\")])])], 2), _vm._v(\" \"), _vm._t(\"default\"), _vm._v(\" \"), _c('footer', {\n    staticClass: \"load-more\"\n  }, [_vm._t(\"load-more\", [_c('span', [_vm._v(\"下拉加载更多\")])])], 2), _vm._v(\" \"), _c('footer', {\n    staticClass: \"load-finish\",\n    staticStyle: {\n      \"display\": \"none\"\n    }\n  }, [_vm._t(\"load-finish\", [_c('span', [_vm._v(\"已经加载完成\")])])], 2)], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-338923fc\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/component/lib/scroll.vue\n// module id = 166\n// module chunks = 1 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-338923fc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./scroll.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"18db66ab\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?minimize!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-338923fc\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/component/lib/scroll.vue\n// module id = 167\n// module chunks = 1 2","<template id=\"friends\">\r\n\r\n    <div style=\"position: relative\">\r\n        <v-scroll :on-refresh=\"onRefresh\" :on-infinite=\"onInfinite\">\r\n            <div class=\"friends_box\">\r\n                <div class=\"friend_header\">\r\n                    <router-link to=\"/me/friendsCount\">以下是我关注的朋友，猜猜TA是谁？</router-link>\r\n                </div>\r\n                <div class=\"friends_mood\" v-for=\"( item,index)  in downdata\" :key=\"index\">\r\n                    <img class=\"friendHeaderImg\" :src=\"item.randomFaceUrl\" alt=\"\">\r\n                    <div class=\"friendState\">\r\n                        <span class=\"mood_state\" :class=\"{'unhappy_txt_color':item.moodValue<=4,'happy_txt_color':item.moodValue>4}\">{{item.moodValueText}}</span>\r\n                        <p class=\"mood_text\">{{item.content}}</p>\r\n                        <ul class=\"friendImgList\" v-if=\"item.haspicture\">\r\n                                 <li   v-for=\"pic in item.pics\">\r\n                                    <img :src=\"pic.smallUrl\" :data-bigPic=\"pic.bigUrl\" :data-w=\"pic.picwidth\"\r\n                                         :data-h=\"pic.picheight\" :style=\"pic.styleObject\"\r\n                                         @click=\"showBigImg(item.pics,pic)\">\r\n                                </li>\r\n\r\n\r\n                        </ul>\r\n                        <div class=\"friendsLoc\">{{item.address}}</div>\r\n                        <div class=\"stateBottom\">\r\n                            <div class=\"time\">{{item.outTime}}</div>\r\n                            <div class=\"time_right\">\r\n                                <span class=\"frined_zan\">{{item.careCount}}</span>\r\n                                <img class=\"time_rightimg1\" :src=\"item.careImg\" alt=\"\"\r\n                                     style=\"width: 26px\" @click=\"addCare(item,index)\">\r\n                                <span class=\"frined_com\">{{item.replycount}}</span>\r\n                                <img class=\"time_rightimg2\" src=\"../images/comments.png\" alt=\"\" @click=\"addComment(item.id,index)\" style=\"width: 20px\">\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"commont_box\" v-if=\"item.replies.length>0\">\r\n                            <div class=\"arrow\"></div>\r\n                            <div class=\"friend_commont\" v-for=\"(reply,replyIndex) in item.replies\" :key=\"replyIndex\" @click=\"commentOrDel(reply.fromuserid,reply.id,index,replyIndex)\"  v-if=\"!reply.isDel\">\r\n                                <span class=\"name\" v-if=\"reply.tomoodreplyid==0||reply.tomoodreplyid==null\">\r\n                                    <template v-if=\"reply.fromuserid==item.userId\">作者</template>\r\n                                    <template v-if=\"reply.fromuserid!=item.userId\">{{reply.from_nickName}}</template>\r\n                                    :</span>\r\n                                <template v-if=\"reply.tomoodreplyid!=0&&reply.tomoodreplyid!=null\"><span class=\"name\"><template v-if=\"reply.fromuserid==item.userId\">作者</template>\r\n                                    <template v-if=\"reply.fromuserid!=item.userId\">{{reply.from_nickName}}</template></span> 回复 <span class=\"name\">{{reply.to_nickName}}:</span></template>\r\n                                <span class=\"commont\">{{reply.content}}</span>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n        </v-scroll>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\r\n    import scroll from './lib/scroll.vue';\r\n    import wx from 'weixin-js-sdk';\r\n    let friends = {\r\n        template: '#friends'\r\n    };\r\n    export default {\r\n        data() {\r\n            return {\r\n                counter: 1, //默认已经显示出15条数据 count等于一是让从16条开始加载\r\n                num: 10,  // 一次显示多少条\r\n                pageStart: 0, // 开始页数\r\n                pageEnd: 0, // 结束页数\r\n                listdata: [], // 下拉更新数据存放数组\r\n                downdata: [],  // 上拉更多的数据存放数组\r\n                user:{}\r\n            }\r\n        },\r\n        methods: {\r\n            getList(){\r\n                let vm = this;\r\n                vm.$http.get(web.API_PATH + 'mood/query/friend/page/[userId]/' + 1 + \"/\" + vm.num).then((response) => {\r\n                    vm.downdata = response.data.data.rows;\r\n                    vm.downdata = xqzs.mood.initMoodsData(vm.downdata);\r\n                    console.log(vm.downdata);\r\n                    vm.$nextTick(function () {\r\n                        myResizePicture($(\".friends_mood\"),\"friendImgList\",\"li\");//渲染完成\r\n                    })\r\n                }, (response) => {\r\n                    console.log('error');\r\n                });\r\n            },\r\n            onRefresh(done) {\r\n                this.getList();\r\n                done() // call done\r\n            },\r\n            onInfinite(done) {\r\n                let vm = this;\r\n                vm.$http.get(web.API_PATH + 'mood/query/friend/page/[userId]/' + (vm.counter + 1) + \"/\" + vm.num).then((response) => {\r\n                    vm.counter++;\r\n                    vm.pageEnd = vm.num * vm.counter;\r\n                    vm.pageStart = vm.pageEnd - vm.num;\r\n                    let arr = response.data.data.rows;\r\n                    let i = 0;\r\n                    let end = vm.pageEnd;\r\n                    arr = xqzs.mood.initMoodsData(arr);\r\n                    for (; i < arr.length; i++) {\r\n                        vm.downdata.push(arr[i]);\r\n                    }\r\n                    vm.$nextTick(function () {\r\n                        myResizePicture($(\".friends_mood\"),\"friendImgList\",\"li\");//渲染完成\r\n                    });\r\n                    if (arr.length === 0) {\r\n                        this.$el.querySelector('.load-more').style.display = 'none';\r\n                        this.$el.querySelector('.load-finish').style.display = 'block';\r\n                        return;\r\n                    }\r\n\r\n                    done() // call done\r\n                }, (response) => {\r\n                    console.log('error');\r\n                });\r\n            },\r\n            showBigImg: function (list, curr) {\r\n\r\n                var current = curr.bigUrl;\r\n                var $data = [];\r\n                for (var i = 0; i < list.length; i++) {\r\n                    $data.push(list[i].bigUrl);\r\n                }\r\n\r\n                wx.previewImage({\r\n                    current: current, // 当前显示图片的http链接\r\n                    urls: $data // 需要预览的图片http链接列表\r\n                });\r\n\r\n            },\r\n            addCare:function (mood,index) {\r\n                let _this = this;\r\n                if(mood.userId !==_this.user.id){\r\n                    _this.$http.put(web.API_PATH+'mood/care/add',{\"moodId\":mood.id,\"userId\":null}).then(response => {\r\n                        if(response.data.status===1){\r\n\r\n                            _this.downdata[index].caremy=_this.user.id;\r\n                           _this.$set(_this.downdata, index, _this.downdata[index]);\r\n                            _this.downdata =  xqzs.mood.initMoodsData(_this.downdata);\r\n                            console.log( _this.downdata)\r\n\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            commentOrDel:function (userId,id,index,replyIndex) {\r\n                let vm = this;\r\n                if(userId===vm.user.id){\r\n                    vm._delComment(id,index,replyIndex);\r\n                }else{\r\n                    vm.addComment(id,index,replyIndex);\r\n                }\r\n            },\r\n            _delComment(id,index,replyIndex){\r\n                let vm = this;\r\n                xqzs.weui.actionSheet(\"删除我的评论?\",\"删除\",function () {\r\n                    ///删除操作\r\n                    let url  = web.API_PATH+ \"mood/reply/[userId]/\"+id;\r\n                    vm.$http.delete(url)\r\n                        .then((data) => {\r\n                            if (data.data.status === 1) {\r\n                                vm.downdata[index].replies[replyIndex].isDel = true;\r\n                                vm.downdata[index].replycount=  vm.downdata[index].replycount-1;\r\n                                vm.$set(vm.downdata, index, vm.downdata[index])\r\n                            } else {\r\n                                xqzs.weui.toast(\"fail\", \"删除失败\", function () {\r\n                                });\r\n                            }\r\n                        })\r\n                        .catch((response) => {\r\n\r\n                        });\r\n\r\n\r\n                },function () {\r\n                    //取消\r\n                })\r\n            },\r\n            addComment(id,index,replyIndex){\r\n                let vm = this;\r\n\r\n                let edithoder=\"\";\r\n                 if(replyIndex!==undefined&&replyIndex) {\r\n\r\n\r\n                     if(vm.downdata[index].replies[replyIndex].fromuserid ===vm.downdata[index].userId ){\r\n                        edithoder=\"作者\";\r\n                    }else{\r\n                        edithoder= vm.downdata[index].replies[replyIndex].from_nickName;\r\n                    }\r\n\r\n                }\r\n                xqzs.mood.actionSheetEdit(\"取消\",\"发送\",function (v) {\r\n                    vm.$http.put(web.API_PATH+'mood/reply/add',{\"moodId\":vm.downdata[index].id,\"userId\":null,\"replyId\":id,\"content\":v}).then(response => {\r\n                        if(response.data.status===1){\r\n                            xqzs.weui.toast(\"success\",\"提交成功\",function () {\r\n                            });\r\n\r\n                            if(response.data.data.reply.touserid===vm.downdata[index].userId){\r\n                                response.data.data.reply.to_nickName= \"作者\";\r\n                            }\r\n                            vm.downdata[index].replycount = response.data.data.mood.replycount;\r\n                            vm.downdata[index].replies.push(response.data.data.reply);\r\n                            vm.$set(vm.downdata, index, vm.downdata[index])\r\n                         }\r\n\r\n\r\n                    }, response => {\r\n                        // error\r\n                    });\r\n                    console.log(v)\r\n\r\n                },function (v) {\r\n                    console.log(v)\r\n                    //取消\r\n                },\"回复 \" +edithoder)\r\n            },\r\n            showComment: function (id, $index) {\r\n                let vm = this;\r\n                if (vm.downdata[$index].isShowComment) {\r\n                    vm.downdata[$index].isShowComment = false;\r\n                    vm.$set(vm.downdata, $index, vm.downdata[$index]);\r\n                } else {\r\n                    if (vm.downdata[$index].isAsk !== true) {\r\n\r\n                        vm.$http.get(web.API_PATH + 'mood/care/query/comment/' + id).then((data) => {\r\n                            vm.downdata[$index].isAsk = true;\r\n\r\n                            if (data.data.status === 1) {\r\n\r\n                                if (data.data.data.care.length > 0 || data.data.data.reply.length > 0) {\r\n                                    vm.downdata[$index].hasComments = true;\r\n\r\n                                    vm.downdata[$index].careList = data.data.data.care;\r\n                                    vm.downdata[$index].commentList = data.data.data.reply;\r\n                                    vm.downdata[$index].isShowComment = true;\r\n\r\n\r\n                                }\r\n\r\n                            }\r\n                            console.log(data.data.data);\r\n                            vm.$set(vm.downdata, $index, vm.downdata[$index]);\r\n                        }, (response) => {\r\n                            console.log('error');\r\n                        });\r\n                    }\r\n                    vm.downdata[$index].isShowComment = true;\r\n                    vm.$set(vm.downdata, $index, vm.downdata[$index]);\r\n                }\r\n\r\n\r\n            }\r\n\r\n        },\r\n        mounted: function () {\r\n            let _this = this;\r\n            this.getList();\r\n            this.$http({\r\n                method: 'GET',\r\n                type: \"json\",\r\n                url: web.API_PATH + 'user/find/by/user/Id/[userId]',\r\n            }).then(function (data) {//es5写法\r\n                if (data.data.data !== null) {\r\n                    _this.user = eval(data.data.data);\r\n                }\r\n            }, function (error) {\r\n                //error\r\n            });\r\n        },\r\n        components: {\r\n            'v-scroll': scroll\r\n        }\r\n    }\r\n\r\n\r\n</script>\r\n<style>\r\n\r\n\r\n    .friend_header {\r\n        border-bottom: 1px solid #eeeeee;\r\n        background: #fff;\r\n        padding: 10px 0;\r\n    }\r\n\r\n    .friend_header a {\r\n        width: 90%;\r\n        height: 24px;\r\n        line-height: 24px;\r\n        text-align: center;\r\n        background: #eeeeee;\r\n        margin: 0 auto;\r\n        font-size: 12px;\r\n        border: 1px solid #eeeeee;\r\n        border-radius: 5px;\r\n        color: #999999;\r\n        display: block;\r\n    }\r\n\r\n    .friends_mood {\r\n        margin-top: 1px;\r\n        background: #ffffff;\r\n        padding: 10px 20px 10px 10px;\r\n    }\r\n\r\n    .friendHeaderImg {\r\n        width: 40px;\r\n        height: 40px;\r\n        display: block;\r\n        border-radius: 3px;\r\n        float: left;\r\n    }\r\n\r\n    .friendState {\r\n        margin-left: 55px;\r\n    }\r\n\r\n    .mood_state {\r\n        font-size: 15px;\r\n        margin-bottom: 10px;\r\n        display: block;\r\n    }\r\n\r\n    .mood_text {\r\n        font-size: 15px;\r\n        color: #333333;\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .stateBottom {\r\n        height: 30px;\r\n        font-size: 12px;\r\n    }\r\n\r\n    .time {\r\n        font-size: 12px;\r\n        color: #999999;\r\n        float: left;\r\n        line-height: 30px;\r\n    }\r\n\r\n    .time_right {\r\n        color: #999999;\r\n        float: right;\r\n    }\r\n\r\n    .friendsLoc {\r\n        font-size: 12px;\r\n        color: #516591;\r\n    }\r\n\r\n    .time_right img {\r\n        float: left;\r\n    }\r\n\r\n    .frined_zan {\r\n        float: left;\r\n        margin-right: 3px;\r\n    }\r\n\r\n    .frined_com {\r\n        float: left;\r\n        margin-right: 5px;\r\n    }\r\n\r\n    .time_rightimg1 {\r\n        width: 22px;\r\n        margin-top: -3px;\r\n        margin-right: 10px;\r\n    }\r\n\r\n    .time_rightimg2 {\r\n        margin-top: 2px;\r\n        width: 18px;\r\n    }\r\n\r\n    .friendImgList {\r\n        overflow: hidden;\r\n        margin-bottom: 15px;\r\n    }\r\n\r\n    .friendImgList.two li{\r\n        width: 7.5rem;\r\n        height: 6rem;\r\n    }\r\n\r\n    .friendImgList.one li {\r\n        width: 10.7rem;\r\n        height: 8.1rem;\r\n    }\r\n\r\n\r\n    .friendImgList li {\r\n        float: left;\r\n        margin-right: 0.3125rem;\r\n        width: 4.8675rem;\r\n        height: 4.8675rem;\r\n        overflow: hidden;\r\n        position: relative;\r\n    }\r\n\r\n    .friendImgList img {\r\n\r\n    }\r\n\r\n    .commont_box {\r\n        padding-top: 10px;\r\n        background: #f9f9f9;\r\n        border-radius: 5px;\r\n        position: relative;\r\n        margin-top: 10px;\r\n        padding-bottom: 15px;\r\n        padding-left: 10px;\r\n    }\r\n\r\n    .arrow {\r\n        width: 15px;\r\n        height: 15px;\r\n        background: #f9f9f9;\r\n        position: absolute;\r\n        left: 20px;\r\n        top: -6px;\r\n        transform: rotate(45deg);\r\n    }\r\n\r\n    .friend_commont {\r\n        margin-bottom: 6px;\r\n        font-size: 13px;\r\n    }\r\n    .name {\r\n        font-size: 14px;\r\n        color: #666699;\r\n\r\n    }\r\n    .commont {\r\n        font-size: 14px;\r\n        color: #333333;\r\n    }\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// friends.vue?379da65e","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".friend_header{border-bottom:1px solid #eee;background:#fff;padding:10px 0}.friend_header a{width:90%;height:24px;line-height:24px;text-align:center;background:#eee;margin:0 auto;font-size:12px;border:1px solid #eee;border-radius:5px;color:#999;display:block}.friends_mood{margin-top:1px;background:#fff;padding:10px 20px 10px 10px}.friendHeaderImg{width:40px;height:40px;display:block;border-radius:3px;float:left}.friendState{margin-left:55px}.mood_state{display:block}.mood_state,.mood_text{font-size:15px;margin-bottom:10px}.mood_text{color:#333}.stateBottom{height:30px;font-size:12px}.time{font-size:12px;color:#999;float:left;line-height:30px}.time_right{color:#999;float:right}.friendsLoc{font-size:12px;color:#516591}.time_right img{float:left}.frined_zan{float:left;margin-right:3px}.frined_com{float:left;margin-right:5px}.time_rightimg1{width:22px;margin-top:-3px;margin-right:10px}.time_rightimg2{margin-top:2px;width:18px}.friendImgList{overflow:hidden;margin-bottom:15px}.friendImgList.two li{width:7.5rem;height:6rem}.friendImgList.one li{width:10.7rem;height:8.1rem}.friendImgList li{float:left;margin-right:.3125rem;width:4.8675rem;height:4.8675rem;overflow:hidden;position:relative}.commont_box{padding-top:10px;background:#f9f9f9;border-radius:5px;position:relative;margin-top:10px;padding-bottom:15px;padding-left:10px}.arrow{width:15px;height:15px;background:#f9f9f9;position:absolute;left:20px;top:-6px;transform:rotate(45deg)}.friend_commont{margin-bottom:6px;font-size:13px}.name{font-size:14px;color:#669}.commont{font-size:14px;color:#333}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?minimize!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-37e95500\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/component/friends.vue\n// module id = 175\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_c('v-scroll', {\n    attrs: {\n      \"on-refresh\": _vm.onRefresh,\n      \"on-infinite\": _vm.onInfinite\n    }\n  }, [_c('div', {\n    staticClass: \"friends_box\"\n  }, [_c('div', {\n    staticClass: \"friend_header\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"/me/friendsCount\"\n    }\n  }, [_vm._v(\"以下是我关注的朋友，猜猜TA是谁？\")])], 1), _vm._v(\" \"), _vm._l((_vm.downdata), function(item, index) {\n    return _c('div', {\n      key: index,\n      staticClass: \"friends_mood\"\n    }, [_c('img', {\n      staticClass: \"friendHeaderImg\",\n      attrs: {\n        \"src\": item.randomFaceUrl,\n        \"alt\": \"\"\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"friendState\"\n    }, [_c('span', {\n      staticClass: \"mood_state\",\n      class: {\n        'unhappy_txt_color': item.moodValue <= 4, 'happy_txt_color': item.moodValue > 4\n      }\n    }, [_vm._v(_vm._s(item.moodValueText))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"mood_text\"\n    }, [_vm._v(_vm._s(item.content))]), _vm._v(\" \"), (item.haspicture) ? _c('ul', {\n      staticClass: \"friendImgList\"\n    }, _vm._l((item.pics), function(pic) {\n      return _c('li', [_c('img', {\n        style: (pic.styleObject),\n        attrs: {\n          \"src\": pic.smallUrl,\n          \"data-bigPic\": pic.bigUrl,\n          \"data-w\": pic.picwidth,\n          \"data-h\": pic.picheight\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.showBigImg(item.pics, pic)\n          }\n        }\n      })])\n    })) : _vm._e(), _vm._v(\" \"), _c('div', {\n      staticClass: \"friendsLoc\"\n    }, [_vm._v(_vm._s(item.address))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"stateBottom\"\n    }, [_c('div', {\n      staticClass: \"time\"\n    }, [_vm._v(_vm._s(item.outTime))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"time_right\"\n    }, [_c('span', {\n      staticClass: \"frined_zan\"\n    }, [_vm._v(_vm._s(item.careCount))]), _vm._v(\" \"), _c('img', {\n      staticClass: \"time_rightimg1\",\n      staticStyle: {\n        \"width\": \"26px\"\n      },\n      attrs: {\n        \"src\": item.careImg,\n        \"alt\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.addCare(item, index)\n        }\n      }\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"frined_com\"\n    }, [_vm._v(_vm._s(item.replycount))]), _vm._v(\" \"), _c('img', {\n      staticClass: \"time_rightimg2\",\n      staticStyle: {\n        \"width\": \"20px\"\n      },\n      attrs: {\n        \"src\": require(\"../images/comments.png\"),\n        \"alt\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.addComment(item.id, index)\n        }\n      }\n    })])]), _vm._v(\" \"), (item.replies.length > 0) ? _c('div', {\n      staticClass: \"commont_box\"\n    }, [_c('div', {\n      staticClass: \"arrow\"\n    }), _vm._v(\" \"), _vm._l((item.replies), function(reply, replyIndex) {\n      return (!reply.isDel) ? _c('div', {\n        key: replyIndex,\n        staticClass: \"friend_commont\",\n        on: {\n          \"click\": function($event) {\n            _vm.commentOrDel(reply.fromuserid, reply.id, index, replyIndex)\n          }\n        }\n      }, [(reply.tomoodreplyid == 0 || reply.tomoodreplyid == null) ? _c('span', {\n        staticClass: \"name\"\n      }, [(reply.fromuserid == item.userId) ? [_vm._v(\"作者\")] : _vm._e(), _vm._v(\" \"), (reply.fromuserid != item.userId) ? [_vm._v(_vm._s(reply.from_nickName))] : _vm._e(), _vm._v(\"\\n                                :\")], 2) : _vm._e(), _vm._v(\" \"), (reply.tomoodreplyid != 0 && reply.tomoodreplyid != null) ? [_c('span', {\n        staticClass: \"name\"\n      }, [(reply.fromuserid == item.userId) ? [_vm._v(\"作者\")] : _vm._e(), _vm._v(\" \"), (reply.fromuserid != item.userId) ? [_vm._v(_vm._s(reply.from_nickName))] : _vm._e()], 2), _vm._v(\" 回复 \"), _c('span', {\n        staticClass: \"name\"\n      }, [_vm._v(_vm._s(reply.to_nickName) + \":\")])] : _vm._e(), _vm._v(\" \"), _c('span', {\n        staticClass: \"commont\"\n      }, [_vm._v(_vm._s(reply.content))])], 2) : _vm._e()\n    })], 2) : _vm._e()])])\n  })], 2)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-37e95500\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/component/friends.vue\n// module id = 191\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-37e95500\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./friends.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"785ee0ba\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?minimize!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-37e95500\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/component/friends.vue\n// module id = 197\n// module chunks = 2"],"sourceRoot":""}