webpackJsonp([16],{142:function(t,e,i){i(573);var s=i(1)(i(285),i(505),null,null);t.exports=s.exports},146:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={data:function(){return{}}}},147:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,"",""])},148:function(t,e,i){i(150);var s=i(1)(i(146),i(149),null,null);t.exports=s.exports},149:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"weui-mask_transparent"}),t._v(" "),i("div",{staticClass:"weui-toast"},[i("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),i("p",{staticClass:"weui-toast__content"},[t._v("数据加载中")])])])}]}},150:function(t,e,i){var s=i(147);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i(2)("5de0c1c0",s,!0)},151:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(66);e.default={props:{offset:{type:Number,default:40},enableInfinite:{type:Boolean,default:!0},enableRefresh:{type:Boolean,default:!0},onRefresh:{type:Function,default:void 0,required:!1},onInfinite:{type:Function,default:void 0,require:!1},isPageEnd:!1,isShowMoreText:{type:Boolean,default:!0},isNotRefresh:!0,cutHeight:0},data:function(){return{top:0,state:0,startY:0,touching:!1,infiniteLoading:!1,height:"height:100px"}},mounted:function(){var t=this;t.cutHeight||(t.cutHeight=0),this.height="height:"+(document.body.clientHeight-t.cutHeight)+"px",this.loadMoreText(),s.a.$on("scrollMoreTextInit",function(e){t.isShowMoreText=e,t.loadMoreText()}),s.a.$on("scrollHeightInit",function(e){t.cutHeight=e,t.initHeight()})},methods:{initHeight:function(){this.height="height:"+(document.body.clientHeight-this.cutHeight)+"px"},touchStart:function(t){this.startY=t.targetTouches[0].pageY,this.startScroll=this.$el.scrollTop||0,this.touching=!0},touchMove:function(t){if(this.enableRefresh&&!(this.$el.scrollTop>0)&&this.touching){var e=t.targetTouches[0].pageY-this.startY-this.startScroll;e>0&&t.preventDefault(),this.top=Math.pow(e,.8)+(2===this.state?this.offset:0),2!==this.state&&(this.top>=this.offset?this.state=1:this.state=0)}},touchEnd:function(t){if(this.enableRefresh){if(this.touching=!1,2===this.state)return this.state=2,void(this.top=this.offset);this.top>=this.offset?this.refresh():(this.state=0,this.top=0),this.loadMoreText()}},refresh:function(){this.state=2,this.top=this.offset,this.isNotRefresh?this.refreshDone():this.onRefresh(this.refreshDone)},refreshDone:function(){this.state=0,this.top=0},loadMoreText:function(){console.log(this.isShowMoreText),this.isShowMoreText?this.isPageEnd?($(".load-more").hide(),$(".load-finish").show()):($(".load-finish").hide(),$(".load-more").show()):($(".load-more").hide(),$(".load-finish").hide())},infinite:function(){console.log("Loading"),this.infiniteLoading=!0,this.onInfinite(this.infiniteDone)},infiniteDone:function(){console.log("done"),this.infiniteLoading=!1},onScroll:function(t){if(this.enableInfinite&&!this.infiniteLoading){var e=this.$el.clientHeight;this.$el.querySelector(".inner").clientHeight-e-this.$el.scrollTop-(this.onRefresh?this.$el.querySelector(".pull-refresh").clientHeight:0)<this.$el.querySelector(".load-more").clientHeight&&this.infinite()}}}}},152:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,"body,html{height:100%}.yo-scroll{position:absolute;top:0;right:0;bottom:0;left:0;overflow:auto;-webkit-overflow-scrolling:touch;background:#f5f5f5}.yo-scroll .inner{position:absolute;top:-2rem;width:100%;transition-duration:.3s}.yo-scroll .pull-refresh{position:relative;left:0;top:0;width:100%;height:2rem;display:flex;align-items:center;justify-content:center}.yo-scroll.touch .inner{transition-duration:0ms}.yo-scroll.down .down-tip,.yo-scroll.refresh .refresh-tip,.yo-scroll.up .up-tip{display:block}.yo-scroll .down-tip,.yo-scroll .refresh-tip,.yo-scroll .up-tip{display:none}.yo-scroll .load-more{height:3rem;display:flex;align-items:center;justify-content:center;text-align:center}.yo-scroll .load-finish{height:2rem;text-align:center}.loadFont{font-size:12px;color:#999}",""])},153:function(t,e,i){i(155);var s=i(1)(i(151),i(154),null,null);t.exports=s.exports},154:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yo-scroll",class:{down:0===t.state,up:1==t.state,refresh:2===t.state,touch:t.touching},style:t.height,on:{touchstart:function(e){t.touchStart(e)},touchmove:function(e){t.touchMove(e)},touchend:function(e){t.touchEnd(e)},scroll:function(e){(t.onInfinite||t.infiniteLoading)&&t.onScroll(e)}}},[i("section",{staticClass:"inner",style:{transform:"translate3d(0, "+t.top+"px, 0)"}},[i("header",{staticClass:"pull-refresh"},[t._t("pull-refresh",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNotRefresh,expression:"!isNotRefresh"}]},[i("span",{staticClass:"down-tip loadFont"},[t._v("下拉更新")]),t._v(" "),i("span",{staticClass:"up-tip loadFont"},[t._v("松开更新")]),t._v(" "),i("span",{staticClass:"refresh-tip loadFont"},[t._v("更新中")])])])],2),t._v(" "),t._t("default"),t._v(" "),i("footer",{staticClass:"load-more"},[t._t("load-more",[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.infiniteLoading,expression:"!infiniteLoading"}],staticClass:"loadFont"},[t._v("上拉加载更多")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.infiniteLoading,expression:"infiniteLoading"}],staticClass:"loadFont"},[t._v("数据加载中..")])])],2),t._v(" "),i("footer",{staticClass:"load-finish",staticStyle:{display:"none"}},[t._t("load-finish",[i("span",{staticClass:"loadFont"},[t._v("已经加载完成")])])],2)],2)])},staticRenderFns:[]}},155:function(t,e,i){var s=i(152);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i(2)("18db66ab",s,!0)},285:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(66),o=i(148),n=i.n(o),a=i(153),l=i.n(a);e.default={data:function(){return{showLoad:!1,testClass:[],classId:0,orderDefault:"sort",orderIndex:0,orders:[{label:"按默认",value:"sort"},{label:"按时间",value:"add_time"},{label:"按热度",value:"count"},{label:"按价格",value:"price"}],list:[],page:1,row:6,isPageEnd:!1,isShowMoreText:!1,topHeight:58,isSelecting:!1}},mounted:function(){var t=this;t.getClass(),t.getList(),xqzs.wx.setConfig(this),t.topHeight=$(".test_list_box .top").height()},components:{"v-scroll":l.a,"v-showLoad":n.a},methods:{getList:function(t){var e=this,i=web.API_PATH+"test/get/list/"+e.classId+"/"+e.page+"/"+e.row;i=i+"?sort_type="+e.orderDefault;var o="desc";"price"===e.orderDefault&&(o="asc"),i=i+"&desc="+o,e.isLoading||e.isPageEnd||(1==e.page&&(e.showLoad=!0),e.isLoading=!0,e.$http.get(i).then(function(i){if(t&&"function"==typeof t&&t(),e.showLoad=!1,e.isLoading=!1,1!=i.data.status)return void(e.list=[]);var o=i.data.data;o.length<e.row?(e.isPageEnd=!0,e.isShowMoreText=!1):e.isShowMoreText=!0,s.a.$emit("scrollMoreTextInit",e.isShowMoreText),1==e.page?e.list=o:e.list=e.list.concat(o),0!=o.length&&(e.page=e.page+1)},function(t){e.isLoading=!1,e.showLoad=!1}))},onInfinite:function(t){this.getList(t)},onRefresh:function(t){this.counter=1,this.isPageEnd=!1,this.getList(t)},changeOrder:function(t){var e=this;e.orderDefault=t,"price"===e.orderDefault?$(".pai").addClass("on"):$(".pai").removeClass("on");for(var i=0;i<e.orders.length;i++)if(e.orders[i].value===e.orderDefault){e.orderIndex=i;break}e.page=1,e.isPageEnd=!1,e.getList()},order:function(){var t=this;t.isSelecting=!t.isSelecting,t.isSelecting?($(".test_list_box .top").stop().animate({height:$(".select_order").height()+t.topHeight+"px"},200),$(".pai").addClass("on")):($(".test_list_box .top").stop().animate({height:t.topHeight+"px"},200),$(".pai").removeClass("on"))},getClass:function(){var t=this;t.$http.get(web.API_PATH+"test/get/class").then(function(e){t.showLoad=!1,1===e.data.status&&(t.testClass=e.data.data)},function(e){t.showLoad=!1})},changeClass:function(t){this.page=1,this.classId=t,this.isPageEnd=!1,this.getList()},formatPrice:function(t){return xqzs.string.formatPrice(t)},leftTitle:function(t){return xqzs.shortname(t,7)},formatTime:function(t){return xqzs.dateTime.formatDate(t)}}}},302:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,'.test_list_box{background:#fff}.test_list_box .class{width:20%;float:left;height:100%;background:#f4f4f7;overflow-y:auto}.test_list_box .class .item{height:2.882352941176471rem;font-size:.823529411764706rem;line-height:2.882352941176471rem;text-align:center}.test_list_box .class .item.on{background:#fff;font-size:.9411764705882353rem;font-weight:700;position:relative}.test_list_box .class .item.on:after{height:100%;width:1px;background:#f4f4f7;display:block;position:absolute;right:0;top:0;content:" "}.test_list_box .class .item.on:before{height:100%;width:.1764705882352941rem;background:#00b400;display:block;position:absolute;left:0;top:0;content:" "}.test_list_box .top{height:2.882352941176471rem;font-size:.75rem;width:80%;float:right;overflow:hidden;position:absolute;right:0;top:0;line-height:2.882352941176471rem;border-bottom:1px solid #eee;z-index:1000;background:#fff}.test_list_box .top .order{padding-left:.88235rem;font-size:.75rem;color:#666}.test_list_box .top .pai{display:inline-block;position:absolute;top:0;right:.88235rem}.test_list_box .top .pai:after,.test_list_box .top .pai span{display:inline-block;float:left}.test_list_box .top .pai:after{content:" ";background:url('+i(479)+") no-repeat;height:.3823529411764706rem;width:.7647058823529412rem;background-size:.7rem;margin-left:.3rem;margin-top:1.3rem;transition:all .3s}.test_list_box .top .pai.on:after{-webkit-transform:translateY(-50%) rotate(-90deg);transform:rotate(-180deg)}.test_list_box .list{width:80%;float:left;padding:0;line-height:1;position:absolute;top:2.89rem;right:0}.test_list_box .list .item:first-child{padding-top:.2rem}.test_list_box .list .item{border-bottom:1px solid #eee;padding:.88235rem;margin-left:.88235rem;padding-left:0}.test_list_box .list .left{position:relative}.test_list_box .list .right{width:5.294117647058824rem;height:5.294117647058824rem;float:right;margin-left:.3rem;border-radius:6px;overflow:hidden}.test_list_box .list .right img{min-width:100%;height:100%}.test_list_box .list .t{font-size:.823529411764706rem;color:#555;line-height:1.2rem;width:90%;font-weight:700}.test_list_box .list .left .tc{height:3.3rem}.test_list_box .list .sub_t{font-size:.7058823529411765rem;color:#999;margin-top:.3rem}.test_list_box .list .price{color:#f60;font-size:.7647058823529412rem;margin-top:1rem;display:inline-block}.test_list_box .list .price span{color:#999;font-size:.6470588235294118rem;text-decoration:line-through;margin-left:.3rem}.test_list_box .list .done_count{color:#999;font-size:.6470588235294118rem;display:inline-block;text-align:right;position:absolute;right:6rem;bottom:0}.test_list_box .yo-scroll{background:#fff}.test_list_box .select_order{padding:.1rem .88235rem;background:#fff}.test_list_box .select_order .itemo{line-height:2.4rem;text-align:right;padding-right:1rem;color:#999}.test_list_box .select_order .itemo.on{background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjFweCIgaGVpZ2h0PSIxNXB4IiB2aWV3Qm94PSIwIDAgMjEgMTUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ0LjEgKDQxNDU1KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5pY29uX+mAieS4rTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSLmlrnmoYjkv67mlLnosIPmlbQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+CiAgICAgICAgPHBvbHlsaW5lIGlkPSJpY29uX+mAieS4rSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHBvaW50cz0iMSA5IDguNjkyMzA3NjkgMTQgMjAgMSI+PC9wb2x5bGluZT4KICAgIDwvZz4KPC9zdmc+) no-repeat 100%;background-size:.6rem;color:#555}",""])},479:function(t,e,i){t.exports=i.p+"test_list_down.png"},505:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"test_list_box"},[t.showLoad?i("v-showLoad"):t._e(),t._v(" "),i("div",{staticClass:"class"},[i("div",{staticClass:"item ",class:{on:0==t.classId},on:{click:function(e){t.changeClass(0)}}},[t._v("全部")]),t._v(" "),t._l(t.testClass,function(e){return i("div",{staticClass:"item",class:{on:t.classId==e.id},on:{click:function(i){t.changeClass(e.id)}}},[t._v(t._s(e.name))])})],2),t._v(" "),i("div",{staticClass:"top",on:{click:function(e){t.order()}}},[i("div",{staticClass:"order"},[t._v("排序")]),t._v(" "),i("div",{staticClass:"pai"},[i("span",[t._v(t._s(t.orders[t.orderIndex].label))])]),t._v(" "),i("div",{staticClass:"select_order"},t._l(t.orders,function(e){return i("div",{staticClass:"itemo",class:{on:t.orderDefault==e.value},on:{click:function(i){t.changeOrder(e.value)}}},[t._v(t._s(e.label))])}))]),t._v(" "),i("div",{staticClass:"list"},[i("v-scroll",{attrs:{"on-refresh":t.onRefresh,"on-infinite":t.onInfinite,isPageEnd:t.isPageEnd,isShowMoreText:t.isShowMoreText,cutHeight:t.topHeight}},t._l(t.list,function(e){return i("div",{staticClass:"item"},[i("router-link",{attrs:{to:{path:"/psychtestDetail",query:{testId:e.id}}}},[i("div",{staticClass:"right"},[i("img",{attrs:{src:e.pic+"?x-oss-process=image/resize,m_fill,h_200,w_200"}})]),t._v(" "),i("div",{staticClass:"left"},[i("div",{staticClass:"tc"},[i("div",{staticClass:"t"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"sub_t"},[t._v(t._s(e.sub_title))])]),t._v(" "),i("div",{staticClass:"price"},[t._v("¥"+t._s(t.formatPrice(e.price))),i("span",[t._v("¥"+t._s(t.formatPrice(e.old_price)))])]),t._v(" "),i("div",{staticClass:"done_count"},[t._v(t._s(e.count)+"人已测")])]),t._v(" "),i("div",{staticClass:"clear"})])],1)}))],1)],1)},staticRenderFns:[]}},573:function(t,e,i){var s=i(302);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i(2)("9e774c4e",s,!0)}});
//# sourceMappingURL=16.build.js.map?5c7fdce1