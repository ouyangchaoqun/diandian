webpackJsonp([31],{143:function(t,e,s){s(565);var i=s(1)(s(286),s(497),null,null);t.exports=i.exports},146:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={data:function(){return{}}}},147:function(t,e,s){e=t.exports=s(0)(),e.push([t.i,"",""])},148:function(t,e,s){s(150);var i=s(1)(s(146),s(149),null,null);t.exports=i.exports},149:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"weui-mask_transparent"}),t._v(" "),s("div",{staticClass:"weui-toast"},[s("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),s("p",{staticClass:"weui-toast__content"},[t._v("数据加载中")])])])}]}},150:function(t,e,s){var i=s(147);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(2)("5de0c1c0",i,!0)},286:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(148),n=s.n(i);e.default={data:function(){return{testId:"",questLists:[],allNum:"",questSwiper:{},optionItem:[{val:"A",src:"../../dist/A.png"},{val:"B",src:"../../dist/B.png"},{val:"C",src:"../../dist/C.png"},{val:"D",src:"../../dist/D.png"},{val:"E",src:"../../dist/E.png"},{val:"F",src:"../../dist/F.png"},{val:"G",src:"../../dist/G.png"},{val:"H",src:"../../dist/H.png"}],activeIndex:"1",isFrist:!1,scoreCount:[],answerId:"",htmlover:!1,canNext:!0,resultId:""}},mounted:function(){var t=this;t.testId=t.$route.query.testId;var e="";web.guest&&(this.isGuest=!0,e="?guest=true"),t.$http.get(web.API_PATH+"user/find/by/user/Id/_userId_").then(function(s){1==s.data.status?t.theUser=s.data.data.id:t.theUser=0,t.$http.get(web.API_PATH+"test/get/"+t.testId+"/"+t.theUser+e).then(function(e){1===e.data.status&&(t.testDetail=e.data.data,xqzs.wx.shareConfig.test.desc=t.testDetail.share_title,xqzs.wx.shareConfig.test.link=web.BASE_PATH+"#/psychtestDetail?testId="+t.testId,xqzs.wx.setConfig(t,!1,xqzs.wx.shareConfig.test))},function(t){})}),t.$http.get(web.API_PATH+"test/get/allquestion/"+t.testId+"/_userId_").then(function(e){t.questLists=e.data.data,t.htmlover=!0,t.allNum=t.questLists.length,$(".initWidth").css("width",100/t.allNum+"%"),t.questSwiper=new Swiper(".question_box",{direction:"horizontal",noSwiping:!0,observer:!0,onSlideChangeStart:function(){t.activeIndex=t.questSwiper.activeIndex+1,$(".initWidth").css("width",100/t.allNum*t.activeIndex+"%"),1==t.activeIndex?t.isFrist=!1:t.isFrist=!0},onSlideChangeEnd:function(){t.canNext=!0}})},function(t){})},components:{"v-showLoad":n.a},methods:{nextOption:function(t,e){var s=this;s.canNext&&(s.canNext=!1,s.updateScore(t,e),s.questSwiper.slideNext())},updateScore:function(t,e){for(var s=0,i=this.questLists.length;s<i;s++)if(this.questLists[s].id==t){this.questLists[s].answer=this.optionItem[e].val,this.questLists[s].checkIndex=e,this.$set(this.questLists,s,this.questLists[s]),console.log(this.questLists[s].answer),!0;break}},prevOption:function(){this.questSwiper.slidePrev()},textResult:function(){for(var t=this,e="",s=0,i=t.questLists.length;s<i;s++)e+='"'+t.questLists[s].id+'":"'+t.questLists[s].answer+'",';e="{"+e.substr(0,e.length-1)+"}",e=JSON.parse(e),t.$http.put(web.API_PATH+"test/get/score/"+t.testId+"/_userId_",e).then(function(e){1==e.data.status&&(t.answerId=e.data.data.id,t.resultId=e.data.data.resultId,console.log(t.resultId),t.$router.replace({path:"/testResult",query:{answerId:t.answerId,resultId:t.resultId}}))})}}}},294:function(t,e,s){e=t.exports=s(0)(),e.push([t.i,'.testQuestions .weui-progress__inner-bar{background:#fe7301;border-radius:.35rem}.testQuestions .weui-progress__bar{height:.35rem;border-radius:.35rem}.questLabel{position:absolute;right:.88235rem}.testQuestions .question_style{background:#fff;margin:0 .88235rem;border-radius:2px}.questRadio{display:none}.questRadioInput{background-color:#fff;border:1px solid #fe7301;border-radius:50%;display:inline-block;height:.88235rem;margin-top:-3px;vertical-align:middle;width:.88235rem;line-height:1}.questRadio:checked+.questRadioInput:after{background-color:#fe7301;border-radius:50%;content:"";display:inline-block;height:.65rem;width:.65rem;margin:2px;text-align:center}.testQuestions_top{padding:.70588235rem 1.17647rem 1.471rem}.testQuestions_process{text-align:center;color:#666;line-height:1;padding-top:1.176471rem}.testQuestions_process span:first-of-type,.testQuestions_process span:nth-of-type(2){font-size:.88235rem}.question_content{padding:1.62rem 0 1.588235rem;color:#333;font-size:1.0588235rem;line-height:1.4117647rem;text-align:left;padding-left:.88235rem}.question_option{color:#333;font-size:.88235rem}.nextOption{padding:.88235rem 0;margin:0 1.17647rem;border-bottom:1px solid hsla(0,0%,80%,.5);display:-webkit-box;display:flex;position:relative}.nextOption:active{background:#ececec}.optionHtml{width:76%}.question_option li:last-of-type{border-bottom:0}.optionItem{margin-right:.88235rem;height:1.176471rem;display:inline-block;margin-top:.1rem}.prevOption{font-size:.94117647rem;height:2.353rem;background:linear-gradient(90deg,#ff9e19,#fe7301);border-radius:2px;line-height:2.353rem;color:#fff;text-align:center}.testQuestions_btn{text-align:center;padding:2.0588rem .88235rem}.testQuestions_btn .isLastStyle{background:#fff;color:#fe7301;float:left;width:41.333%;margin-left:.29rem;border:1px solid #fe7301;height:2.236rem}.testQuestions_btn .isResultStyle{margin-right:.29rem;float:right;width:41.333%;margin-top:0}.prevOption:active,.testQuestions_btn .isResultStyle:active{background:#d86204}.testQuestions_btn .isLastStyle:active{background:#eee}.question_style .question_img{margin:0 1.17647rem}.question_style .question_img img{width:100%}',""])},497:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"testQuestions"},[t.htmlover?t._e():s("v-showLoad"),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.htmlover,expression:"htmlover"}]},[s("div",{staticClass:"testQuestions_process"},[s("span",[t._v(t._s(t.activeIndex))]),s("span",[t._v("/"+t._s(t.allNum))])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"swiper-container question_box"},[s("div",{staticClass:"swiper-wrapper"},t._l(t.questLists,function(e,i){return s("div",{staticClass:"swiper-slide swiper-no-swiping"},[s("div",{staticClass:"question_style"},[s("div",{staticClass:"question_content"},[t._v(t._s(i+1)+"、"+t._s(e.title))]),t._v(" "),e.image?s("div",{staticClass:"question_img"},[s("img",{attrs:{src:e.image}})]):t._e(),t._v(" "),s("ul",{staticClass:"question_option"},t._l(t.optionItem,function(i,n){return e["item"+i.val]?s("li",{staticClass:"nextOption",on:{click:function(s){s.stopPropagation(),t.nextOption(e.id,n)}}},[s("img",{staticClass:"optionItem",attrs:{src:i.src,alt:""}}),s("span",{staticClass:"optionHtml"},[t._v(t._s(e["item"+i.val]))]),t._v(" "),s("label",{staticClass:"questLabel"},[e.checkIndex==n?s("input",{staticClass:"questRadio",attrs:{type:"radio",checked:"",name:"questRadio"+e.id}}):t._e(),t._v(" "),e.checkIndex!=n?s("input",{staticClass:"questRadio",attrs:{type:"radio",name:"questRadio"+e.id}}):t._e(),t._v(" "),s("span",{staticClass:"questRadioInput",on:{click:function(t){t.stopPropagation()}}})])]):t._e()}))]),t._v(" "),s("div",{staticClass:"testQuestions_btn"},[t.isFrist?s("div",{staticClass:"prevOption",class:{isLastStyle:i==t.questLists.length-1&&e.checkIndex!=t.index},on:{click:function(e){t.prevOption()}}},[t._v("上一题")]):t._e(),t._v(" "),i==t.questLists.length-1&&e.checkIndex!=t.index?s("div",{staticClass:"prevOption isResultStyle",on:{click:function(e){t.textResult()}}},[t._v("查看结果")]):t._e()])])}))])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"weui-progress testQuestions_top"},[s("div",{staticClass:"weui-progress__bar"},[s("div",{staticClass:"weui-progress__inner-bar js_progress initWidth"})])])}]}},565:function(t,e,s){var i=s(294);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s(2)("9b4e1586",i,!0)}});
//# sourceMappingURL=31.build.js.map?5c7fdce1