webpackJsonp([15],{110:function(i,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={data:function(){return{maskFlag:!1,activeFlag:!1,maxPhotoCount:3,uploadpicinfo:{token:"",smallpic:"",middlepic:"",removepicurl:web.BASE_PATH+"api/removepicture",uploadbase64url:web.BASE_PATH+"api/upfilebase64",aliossgeturl:web.BASE_PATH+"aliyunapi/oss_getsetting"},alioss:null,pictures:[]}},methods:{showAction:function(){this.maskFlag=!0,this.activeFlag=!0},hideAction:function(){this.activeFlag=!1,this.maskFlag=!1},_showloadingpic:function(i,t){t="up_loading_"+t,this.pictures.push({content:"loading",class:"loading",id:t})},_fillloadingpic:function(i,t){i="up_loading_"+i;for(var o=0,e=this.pictures.length;o<e;o++)i==this.pictures[o].id&&(this.pictures[o].class="",this.pictures[o].content="放置图片")},uploadImage:function(i){var t=this,o="uf_"+(new Date).getTime();xqzs.wx.takePhotos(i,t.maxPhotoCount,t.uploadpicinfo,t.alioss,function(i){for(var e=0;e<i;e++)t._showloadingpic(containersize,o+e)},function(i,e){t._fillloadingpic(o+e,i.data)},function(i){console.info(i)})},getCam:function(){this.uploadImage("camera")},getPho:function(){this.uploadImage("album")}},mounted:function(){this.uploadpicinfo={token:xqzs.string.guid(),smallpic:xqzs.constant.PIC_SMALL,middlepic:xqzs.constant.PIC_MIDDLE,removepicurl:web.BASE_PATH+"api/removepicture",uploadbase64url:web.BASE_PATH+"api/upfilebase64",aliossgeturl:web.BASE_PATH+"api/aliyunapi/oss_getsetting"},this.alioss=new aliyunoss({url:this.uploadpicinfo.aliossgeturl,token:this.uploadpicinfo.token})},computed:{canupload:function(){return this.pictures.length<this.maxPhotoCount}}}},130:function(i,t,o){t=i.exports=o(1)(),t.push([i.i,".optionFrist_box{position:relative;padding-top:20px;padding-left:15px}.optionFrist_box .optionjt{left:1.4rem}.optionAdd{height:53px;width:53px}.weui-actionsheet__cell{font-size:16px;color:#545454;height:49px;line-height:49px;padding:0}.weui-mask{background:rgba(0,0,0,.4)}",""])},173:function(i,t,o){i.exports=o.p+"tjzp.gif"},181:function(i,t,o){i.exports={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"optionFrist_box"},[i._l(i.pictures,function(t){return e("div",[e("div",{class:t.class,attrs:{id:t.id}},[i._v(i._s(t.content))])])}),i._v(" "),i.canupload?e("img",{staticClass:"optionAdd",attrs:{src:o(173),alt:""},on:{click:function(t){i.showAction()}}}):i._e(),i._v(" "),e("div",{class:{"weui-mask":i.maskFlag},on:{click:function(t){i.hideAction()}}}),i._v(" "),e("div",{class:{"weui-actionsheet":!0,"weui-actionsheet_toggle":i.activeFlag}},[e("div",{staticClass:"weui-actionsheet__menu"},[e("div",{staticClass:"weui-actionsheet__cell",attrs:{id:"btn"},on:{click:function(t){i.getCam()}}},[i._v("拍照")]),i._v(" "),e("div",{staticClass:"weui-actionsheet__cell",on:{click:function(t){i.getPho()}}},[i._v("从手机相册选择")])]),i._v(" "),e("div",{staticClass:"weui-actionsheet__action"},[e("div",{staticClass:"weui-actionsheet__cell",on:{click:function(t){i.hideAction()}}},[i._v("取消")])])])],2)},staticRenderFns:[]}},208:function(i,t,o){var e=o(130);"string"==typeof e&&(e=[[i.i,e,""]]),e.locals&&(i.exports=e.locals);o(2)("3537a40e",e,!0)},54:function(i,t,o){o(208);var e=o(0)(o(110),o(181),null,null);i.exports=e.exports}});
//# sourceMappingURL=15.build.js.map